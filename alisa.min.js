const a0_0x3ebd=['d29yZA==','dmFsIG5vZGXmsqF0eXBl','UkVNT1ZFUFVOQw==','JHllYXJseQ==','bG9naWNPcHM=','cG9z','JGd0ZQ==','YmVmb3JlX3ByZWQ=','aG93bXVjaA==','Y29sbGVjdGlvbg==','UFJFRCtFTlRJVFk=','Z2V0Tm9kZQ==','JENPTVBBUkUrRklMVEVS','ZGlzdHJpYnV0aW9u','JHRydXRoT3JOb3Q=','Q0xFQU5VUA==','cmVzb2x2ZQ==','c3Vic3RyaW5n','5aSn562J5LqO','JGNvdW50','cGF5bG9hZA==','cHJvamVjdA==','dGVzdA==','JG1vbQ==','ZGlzdGFuY2Vz','Y2FsYw==','ZW51bQ==','aXNfY29tcGFyYWJsZQ==','cmFuZG9t','UFJFRCskUEVSQ0VOVEFHRQ==','c2NoZW1h','UFJFRCskRElTVFJJQlVUSU9O','RklMVEVSK0ZJTFRFUitTQU1F','JGlu','Y29uZmln','5peg5rOV55CG6Kej6Zeu6aKY77yM6ZyA6KaB5pu05aSa6KGl5YWF','RklMVEVSK0NPTVBBUkVWQUw=','Y2xlYW5lZA==','ZGF5cw==','cHJlZHM=','Z3JvdXA=','5pyA5L6/5a6c','cmlnaHRWYWw=','JEdST1VQK1BSRUQ=','bm9ybQ==','5LiN55+l6YGT5L2g6KaB5bmy5Zib','TUFYTUlOVkFMK1BSRUQ=','JE1BWE1JTitWQUw=','5aSn5LqO562J5LqO','5pyJ5aSa5LiqZW50aXR555qEc2NoZW1h','c2NoZW1hX2NyZWF0ZWQ=','aXNUeXBlT2s=','Y3JlYXRlTGVhcm5lZA==','JGd0','5ZCM5q+U5aKe6ZW/','JGVx','JENPTVBBUkUrVkFM','ZGlzdA==','ZmluZA==','aW52YWxpZCBzY2hlbWE=','cHJpbWFsX3R5cGU=','Y291bnRMZWFybmVk','bW9uZ29kYg==','Y3JlYXRlSW5kZXg=','c3lubw==','bG9naWNfb3A=','Li9pbnRlcm1lZGlhdGVzL2RlYnVnLnBuZw==','bWF4','ZGJjb21tYW5kcw==','c29ydEJ5','RU5USVRZQ0hBSU4rRklMVEVSLVNBTUU=','5peg5rOV6Kej5p6QIA==','ZGlncmFwaA==','5LiN5aSn5LqO','Y29ubmVjdA==','Z3JvdXBieQ==','ZW50aXR5VG9WYWw=','JGx0','YWRqYWNlbnQ=','cmVwbGFjZQ==','JG1heA==','bGVmdFZhbA==','cXVlcnk=','JGRhaWx5','dG9BcnJheQ==','dXBkYXRlT25l','ZXNjYXBl','JHdlZWtseQ==','Y291bnREb2N1bWVudHM=','U0NIRU1BK1BSRUQ=','bnVtYmVyfGRhdGU=','ZGlzdGluY3Rz','ZWFjaA==','JENPTVBBUkUrRU5USVRZ','ZGlzdGFuY2U=','aXNGaWx0ZXJQYXlsb2FkRW1wdHk=','JENBTEMrUFJFRA==','W2YtcF1wcmVkTm9kZei/meS5iOWkjeadgu+8n+eci+eciw==','UFJFRCtQUkVE','Ym9vbGVhbg==','bm9kZXM=','JHBlcmNlbnRhZ2U=','JEJFVFdFRU4rVkFM','ZHJvcERhdGFiYXNl','bWFpbkRC','b2JqZWN0','c3RhcnRzV2l0aA==','JHN1bQ==','YXBwbHk=','bGVhcm5lZC5u5LiN5pivc3RyaW5n77yaIA==','RElTVA==','JG1pbg==','c3RyaW5naWZ5','Y29tYmluZUZpbHRlclBheWxvYWRz','6Zeu6aKY5LiN6IO95Li656m6','ZXZlbnQ=','YWxpc2Ff','c2hvdWxkUmVtb3Zl','JHlveQ==','55uu5YmN5LiN5pSv5oyB5om56YeP5aKe5YqgbGVhcm5lZA==','cXVhbnRpZmllcg==','RklMVEVSK1BSRUQtRElGRktFWS1TQU1F','Z3JhcGg=','bWF4bWlu','WVlZWeW5tE3mnIg=','RklMVEVSK1BSRUQtRVZFTlRSRUYtU0FNRVNDSEVNQQ==','JGdyb3Vw','aGFzT3duUHJvcGVydHk=','ZHVyYXRpb24=','c3BsaWNl','JGxpc3Q=','JGRpc3RpbmN0','5LiN6LaF6L+H','dW5pcQ==','ZmluZE9uZQ==','cmVzb2x2ZUdyYXBo','RklMVEVSKyRQRVJDRU5UQUdF','JG5l','aW5kZXhPZg==','c3BsaXQ=','ZGlzdF9z','JENPVU5U','ZmluZExlYXJuZWQ=','am9pbg==','aXNBcnJheQ==','ZmlsdGVy','dG90YWw=','cHJlZA==','JG1vbnRobHk=','bGFiZWw=','aXNfZXZlbnQ=','c2NoZW1hcw==','aXNfY2F0ZWdvcmljYWw=','Q09NUEFSRVZBTCtQUkVE','TUFYX1NBRkVfSU5URUdFUg==','c2V0RWRnZVdlaWdodA==','YWRkRWRnZQ==','bm9ybWFsaXNlTm9kZQ==','bGVhcm4=','5pyJ5aSa5LiqZXZlbnTnmoRzY2hlbWE=','X2lk','bGltaXQ=','ZGF0YV9jcmVhdGVk','ZmluZEluZGV4','ZmlsdGVyUGF5bG9hZFRvTmFtZQ==','c3lub255bXM=','YWNjZXB0VHlwZXM=','bGVhcm5lZENvbGxlY3Rpb24=','Zm9ybWF0','5ZCM5q+U5aKe6YCf','aXNfYm9vbGVhbl9wcmVk','dG9QYXRocw==','JGhvd211Y2g=','RklMVEVSK1JFRlBSRUQ=','dmFs','TlVNQkVSVkFMKyRRVUFOVElGSUVS','Y2xvc2U=','cHJvcGVydGllcw==','U09SVEZJTFRFUitWQUw=','cHVzaA==','ZGVlcGNsb25l','5peg5rOV55CG6Kej5q2k6Zeu6aKY77yM6K+357un57ut6KGl5YWF5oiW6YeN5paw5o+Q6Zeu','RU5USVRZK1BSRUQtU0FNRQ==','YWxs','cmFuaw==','U1RBUlQ=','bW9uZ29DbGllbnQ=','R1JPVVArR1JPVVAtU0FNRQ==','XCQm','c3RhZ2XotoXlh7rojIPlm7Q=','Y29tcGFyZQ==','aW5pdERhdGFiYXNl','b3V0cHV0','ZmlsdGVyIG5vZGXnmoRzbG905ZKMcGF5bG9hZOWGsueqgeS6hg==','Y2hhaW4=','Y29uc3RyYWludHM=','UFJFRCtWQUw=','JENPTVBBUkUrQ0FMQ0VEUFJFRA==','6ZSZ6K+v55qEZGlzdFN0cmluZzo=','ZGJOYW1l','YWRkTGlzdGVuZXI=','JGJldHdlZW4=','546v5q+U5aKe6ZW/','b3BlcmF0b3I=','Z2Vv','5bCP562J5LqO','5q+P5bCP5pe2','ZGVsZXRlTGVhcm5lZA==','5pyq55+l55qEc29ydOWxnuaApzog','c2V0','WVlZWS1NTS1ERCBISDptbTpzcw==','JGx0ZQ==','ZGVidWdHcmFwaEVkZ2Vz','dG90YWxEaXN0YW5jZQ==','W0FsaXNhREJDb25uZWN0b3JdbmVlZCBjb25maWc=','ZGVidWc=','JENPVU5UK0VOVElUWQ==','dGFn','bW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNw==','RVZFTlRQUkVEK0VOVElUWUZJTFRFUitESUZGU0NIRU1B','ZGV0ZXJtaW5lTWFpblNjaGVtYQ==','c2xvdA==','dmFsdWVz','ZGlzdGFuY2VCZXd0ZWVuVHdvTm9kZXM=','cHJvcGVydHk=','dmFsdWU=','JEhPV01VQ0grJFFVQU5USUZJRVI=','ZGF0ZQ==','JFRSVVRIT1JOT1QrRklMVEVS','ZGVsZXRlTWFueQ==','X2xlYXJuZWQ=','ZGlmZg==','5pyJ5aSa56eN5Y+v6IO95oCn77yM5peg5rOV56Gu5a6a5q2j56Gu55qE6Kej6YeK','ZnVuY3Rpb25fY3JlYXRlZA==','c29ydA==','Y29uc3RydWN0b3I=','6L+Y5rKh5byA5Y+R77yM6L+Z5LmI5aSN5p2C77yM562J562J','WVlZWeW5tOesrFHlraPluqY=','UFJFRCtFUQ==','dG9FdmVudEZpbHRlck5vZGU=','cGFyc2Vycw==','5LiN562J5LqO','cG5n','ZW50aXR5','bWluRGlzdGFuY2U=','cmVm','bWlu','Z2V0RGlzdGFuY2U=','dmFsX3R5cGU=','cHJpbnRQYXRoSXRlbQ==','aXNQb3NpdGlvbk9r','JGRpc3RyaWJ1dGlvbg==','cHJlZE5vZGVUb0dyb3Vw','JHF1YXJ0ZXJseQ==','Q09VTlRQUkVEK0ZJTFRFUg==','RU5E','bm9kZQ==','ZGlzdGluY3Q=','ZmllbGQ=','JENPVU5UK0VWRU5UUkVTVUxU','U0NIRU1BK0VOVElUWQ==','RklMVEVSK1BSRUQtU0FNRUtFWQ==','JENPVU5UK0VWRU5U','dG9Mb3dlckNhc2U=','JEdST1VQK1RJTUVXSU5ET1c=','R1JPVVArUFJFRC1TQU1F','Zm9yRWFjaA==','Y29tYmluZVdpdGhGaWx0ZXJQYXlsb2Fk','TUFJTlNDSEVNQQ==','cHVuYw==','c3lub255bXNfY3JlYXRlZA==','aXNfbmFtZQ==','bmFtZQ==','b3BlcmF0b3JUb05hbWU=','dHlwZQ==','ZGVidWdHcmFwaA==','aXNfc2NoZW1h','aXNDYXRlZ29yaWNhbE9uVGhlRmx5','YWRkTm9kZQ==','cmVtb3ZlTGlzdGVuZXI=','bnVtYmVy','cGVyY2VudGFnZQ==','5rKh5pyJ5om+5Yiw5Lu75L2Vc2NoZW1h77yM5peg5rOV55CG6Kej5q2k6Zeu6aKY','5LiN5bCP5LqO','JGF2Zw==','cGF0aA==','Y29tYmluZVR3b05vZGVz','5ZKL5pyJ5Lik5Liq5Zyw5pa56YO95pyJZmlsdGVy5ZGi','Y291bnQ=','bGVuZ3Ro','546v5q+U5aKe6YCf','TUFYLURJU1RBTkNF','bWF0Y2g=','c3RyaW5n','a2V5cw==','YWxpc2FEQg==','bWFw','JGhvdXJseQ==','ZW50cmllcw==','cmV0dXJuIC8iICsgdGhpcyArICIv','aXNFbXB0eQ==','ZGF0YQ==','UFJFRCtDQUxDRURQUkVE'];(function(_0x1a6a9f,_0x3ebd0a){const _0x1191c5=function(_0xe81e51){while(--_0xe81e51){_0x1a6a9f['push'](_0x1a6a9f['shift']());}};const _0x58e518=function(){const _0x2486a8={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x550e1f,_0x533700,_0x2fae95,_0x3df429){_0x3df429=_0x3df429||{};let _0x188a7a=_0x533700+'='+_0x2fae95;let _0x4bad27=0x0;for(let _0xfecac8=0x0,_0x562def=_0x550e1f['length'];_0xfecac8<_0x562def;_0xfecac8++){const _0x7ac66d=_0x550e1f[_0xfecac8];_0x188a7a+=';\x20'+_0x7ac66d;const _0x48602e=_0x550e1f[_0x7ac66d];_0x550e1f['push'](_0x48602e);_0x562def=_0x550e1f['length'];if(_0x48602e!==!![]){_0x188a7a+='='+_0x48602e;}}_0x3df429['cookie']=_0x188a7a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5ea6da,_0x45aeb8){_0x5ea6da=_0x5ea6da||function(_0x47a219){return _0x47a219;};const _0x3527c7=_0x5ea6da(new RegExp('(?:^|;\x20)'+_0x45aeb8['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));const _0x31c756=function(_0x4e7887,_0x2c4f73){_0x4e7887(++_0x2c4f73);};_0x31c756(_0x1191c5,_0x3ebd0a);return _0x3527c7?decodeURIComponent(_0x3527c7[0x1]):undefined;}};const _0x428e2e=function(){const _0x5c4a6d=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x5c4a6d['test'](_0x2486a8['removeCookie']['toString']());};_0x2486a8['updateCookie']=_0x428e2e;let _0x34dc71='';const _0x38b4f6=_0x2486a8['updateCookie']();if(!_0x38b4f6){_0x2486a8['setCookie'](['*'],'counter',0x1);}else if(_0x38b4f6){_0x34dc71=_0x2486a8['getCookie'](null,'counter');}else{_0x2486a8['removeCookie']();}};_0x58e518();}(a0_0x3ebd,0xd3));const a0_0x1191=function(_0x1a6a9f,_0x3ebd0a){_0x1a6a9f=_0x1a6a9f-0x0;let _0x1191c5=a0_0x3ebd[_0x1a6a9f];if(a0_0x1191['ggUJrk']===undefined){(function(){const _0xe81e51=function(){let _0x34dc71;try{_0x34dc71=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x38b4f6){_0x34dc71=window;}return _0x34dc71;};const _0x2486a8=_0xe81e51();const _0x428e2e='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x2486a8['atob']||(_0x2486a8['atob']=function(_0x550e1f){const _0x533700=String(_0x550e1f)['replace'](/=+$/,'');let _0x2fae95='';for(let _0x3df429=0x0,_0x188a7a,_0x4bad27,_0xfecac8=0x0;_0x4bad27=_0x533700['charAt'](_0xfecac8++);~_0x4bad27&&(_0x188a7a=_0x3df429%0x4?_0x188a7a*0x40+_0x4bad27:_0x4bad27,_0x3df429++%0x4)?_0x2fae95+=String['fromCharCode'](0xff&_0x188a7a>>(-0x2*_0x3df429&0x6)):0x0){_0x4bad27=_0x428e2e['indexOf'](_0x4bad27);}return _0x2fae95;});}());a0_0x1191['luXfAc']=function(_0x562def){const _0x7ac66d=atob(_0x562def);let _0x48602e=[];for(let _0x5ea6da=0x0,_0x45aeb8=_0x7ac66d['length'];_0x5ea6da<_0x45aeb8;_0x5ea6da++){_0x48602e+='%'+('00'+_0x7ac66d['charCodeAt'](_0x5ea6da)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x48602e);};a0_0x1191['eRljjs']={};a0_0x1191['ggUJrk']=!![];}const _0x58e518=a0_0x1191['eRljjs'][_0x1a6a9f];if(_0x58e518===undefined){const _0x3527c7=function(_0x31c756){this['NDrPUx']=_0x31c756;this['kYTldg']=[0x1,0x0,0x0];this['UMbHys']=function(){return'newState';};this['ZPTWwS']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['irQFVC']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3527c7['prototype']['igLrWZ']=function(){const _0x47a219=new RegExp(this['ZPTWwS']+this['irQFVC']);const _0x4e7887=_0x47a219['test'](this['UMbHys']['toString']())?--this['kYTldg'][0x1]:--this['kYTldg'][0x0];return this['UXFEjT'](_0x4e7887);};_0x3527c7['prototype']['UXFEjT']=function(_0x2c4f73){if(!Boolean(~_0x2c4f73)){return _0x2c4f73;}return this['tQMzLY'](this['NDrPUx']);};_0x3527c7['prototype']['tQMzLY']=function(_0x5c4a6d){for(let _0x44b00e=0x0,_0x445152=this['kYTldg']['length'];_0x44b00e<_0x445152;_0x44b00e++){this['kYTldg']['push'](Math['round'](Math['random']()));_0x445152=this['kYTldg']['length'];}return _0x5c4a6d(this['kYTldg'][0x0]);};new _0x3527c7(a0_0x1191)['igLrWZ']();_0x1191c5=a0_0x1191['luXfAc'](_0x1191c5);a0_0x1191['eRljjs'][_0x1a6a9f]=_0x1191c5;}else{_0x1191c5=_0x58e518;}return _0x1191c5;};const a0_0x2486a8=function(){let _0x397f20=!![];return function(_0xdd8574,_0x3dcecd){const _0x25840a=_0x397f20?function(){if(_0x3dcecd){const _0x677272=_0x3dcecd[a0_0x1191('0xc8')](_0xdd8574,arguments);_0x3dcecd=null;return _0x677272;}}:function(){};_0x397f20=![];return _0x25840a;};}();const a0_0xe81e51=a0_0x2486a8(this,function(){const _0x332359=function(){const _0x5153b2=_0x332359[a0_0x1191('0x18')](a0_0x1191('0x58'))()['compile']('^([^\x20]+(\x20+[^\x20]+)+)+[^\x20]}');return!_0x5153b2[a0_0x1191('0x72')](a0_0xe81e51);};return _0x332359();});a0_0xe81e51();import a0_0x159922 from'semanticdb';import a0_0x56a3de from'mongodb';import a0_0x36cae0 from'semanticdb-common-lib';import{incrRegEx,DONE,MAYBE}from'incr-regex-package';import a0_0x90b76d from'underscore';import a0_0x4f25f0 from'graph-data-structure';import a0_0x579bf0 from'graphviz';import a0_0x534141 from'json-stable-stringify';import a0_0x44a94c from'moment';const {MongoClient}=a0_0x56a3de;class AlisaDBConnector{constructor(){this[a0_0x1191('0x116')]=null;this[a0_0x1191('0xc4')]=null;this['learnedCollection']=null;this[a0_0x1191('0xa0')]={};}async['connect'](_0x3cbba5){if(_0x3cbba5==null)throw new Error(a0_0x1191('0x3'));if(_0x3cbba5['project']==null)throw new Error('[AlisaDBConnector]need\x20project\x20param');this[a0_0x1191('0x123')]=a0_0x1191('0xd0')+_0x3cbba5[a0_0x1191('0x71')];this['mongoClient']=await MongoClient['connect'](_0x3cbba5[a0_0x1191('0x54')]['url'],{'useNewUrlParser':!![],'useUnifiedTopology':!![]});this[a0_0x1191('0xc4')]=this[a0_0x1191('0x116')]['db'](this['dbName']);this[a0_0x1191('0x103')]=await this[a0_0x1191('0xc4')][a0_0x1191('0x65')](a0_0x1191('0x13'));}async['close'](){this[a0_0x1191('0x116')][a0_0x1191('0x10c')]();this['mongoClient']=null;this[a0_0x1191('0xc4')]=null;this[a0_0x1191('0x103')]=null;}async[a0_0x1191('0x11b')](){await this[a0_0x1191('0x103')][a0_0x1191('0x9b')]({'n':0x1});}async['dropDatabase'](){this[a0_0x1191('0xc4')][a0_0x1191('0xc3')]();}async['createLearned'](_0x3ab10d){if(Array[a0_0x1191('0xec')](_0x3ab10d)){throw new Error(a0_0x1191('0xd3'));}await this[a0_0x1191('0x103')][a0_0x1191('0xb1')](_0x3ab10d,{'$set':_0x3ab10d},{'upsert':!![]});}async[a0_0x1191('0x99')](_0x5c4053){return await this['learnedCollection'][a0_0x1191('0xb4')](_0x5c4053);}async[a0_0x1191('0x12b')](_0x5cf359){return await this['learnedCollection'][a0_0x1191('0x12')](_0x5cf359);}async[a0_0x1191('0xea')](_0x389403,_0x22ea8c){const _0x4606fb=await this[a0_0x1191('0x103')]['find'](_0x389403,_0x22ea8c)[a0_0x1191('0xb0')]();return _0x4606fb;}}var DBConnector=new AlisaDBConnector();const addLearned=async _0x9648fb=>{if(_0x9648fb&&_0x9648fb['n']&&_0x9648fb['n'][a0_0x1191('0x4e')]>0x0){if(typeof _0x9648fb['n']!==a0_0x1191('0x52')){throw new Error(a0_0x1191('0xc9')+_0x9648fb['n']);}const _0x58e4e5=_0x9648fb['n'];_0x9648fb['n']=_0x9648fb['n']['replace'](/\s/g,'');_0x9648fb['n']=_0x9648fb['n']['toLowerCase']();if(_0x9648fb[a0_0x1191('0x88')]==null&&_0x58e4e5!==_0x9648fb['n']){_0x9648fb[a0_0x1191('0x88')]=_0x58e4e5;}await DBConnector[a0_0x1191('0x90')](_0x9648fb);}};const {Schema}=a0_0x159922;const {Property}=Schema;async function dataCreated(_0x2f2c05,_0x68b7c8){const _0x21ff7f=[];for(const _0x5c2ee8 of _0x2f2c05[a0_0x1191('0x10d')]){if(_0x5c2ee8[a0_0x1191('0x3c')]){_0x21ff7f[a0_0x1191('0x10f')](_0x5c2ee8);}else if(Property[a0_0x1191('0x42')](_0x5c2ee8)){if(_0x5c2ee8['stats'][a0_0x1191('0xb7')]){await a0_0x36cae0['each'](_0x5c2ee8['stats'][a0_0x1191('0xb7')],_0x1d04b4=>{addLearned({'n':_0x1d04b4,'s':_0x2f2c05[a0_0x1191('0xfc')],'t':a0_0x1191('0xed'),'f':_0x5c2ee8['name'],'rank':0x1});});}}}for(const _0x347bc9 of _0x68b7c8){for(const _0xb42c9f of _0x21ff7f){await a0_0x36cae0['each'](_0x347bc9[_0xb42c9f[a0_0x1191('0x3d')]],_0x341abd=>{addLearned({'n':_0x341abd,'s':_0x2f2c05['_id'],'t':a0_0x1191('0x20'),'f':_0xb42c9f[a0_0x1191('0x3d')],'rank':0x0});});}}}const {SemanticType,Schema:Schema$1}=a0_0x159922;async function schemaCreated(_0xdf0672){if(_0xdf0672==null||!Array[a0_0x1191('0xec')](_0xdf0672[a0_0x1191('0x10d')])){throw new Error(a0_0x1191('0x97'));}_0xdf0672=await Schema$1[a0_0x1191('0xe2')](_0xdf0672['_id'],!![]);await addLearned({'n':_0xdf0672[a0_0x1191('0x3d')],'s':_0xdf0672[a0_0x1191('0xfc')],'t':'schema','rank':0x1});if(_0xdf0672[a0_0x1191('0x9c')]){for(const _0x45e1ab of _0xdf0672[a0_0x1191('0x9c')]){await addLearned({'n':_0x45e1ab,'t':a0_0x1191('0x9c'),'norm':_0xdf0672[a0_0x1191('0x3d')],'rank':0x0});}}for(const _0x3dff01 of _0xdf0672['properties']){if(_0x3dff01['is_fake'])continue;await addLearned({'n':_0x3dff01[a0_0x1191('0x3d')],'s':_0xdf0672[a0_0x1191('0xfc')],'t':a0_0x1191('0xef'),'type':_0x3dff01[a0_0x1191('0x98')],'rank':0x1});if(_0x3dff01[a0_0x1191('0x9c')]){for(const _0x2e7f66 of _0x3dff01[a0_0x1191('0x9c')]){await addLearned({'n':_0x2e7f66,'t':'syno','norm':_0x3dff01['name'],'rank':0x0});}}if(_0x3dff01['quantifier']){await addLearned({'n':_0x3dff01[a0_0x1191('0xd4')],'s':_0xdf0672[a0_0x1191('0xfc')],'t':a0_0x1191('0xd4'),'f':_0x3dff01[a0_0x1191('0x3d')],'rank':0x1});}if(_0x3dff01[a0_0x1191('0x11f')][a0_0x1191('0x76')]){for(const _0x58029c of _0x3dff01[a0_0x1191('0x11f')][a0_0x1191('0x76')]){await a0_0x36cae0[a0_0x1191('0xb8')](_0x58029c,_0x1ec033=>{return addLearned({'n':_0x1ec033,'s':_0xdf0672[a0_0x1191('0xfc')],'t':a0_0x1191('0xed'),'f':_0x3dff01[a0_0x1191('0x3d')],'norm':Array[a0_0x1191('0xec')](_0x58029c)?_0x58029c[0x0]:_0x58029c,'rank':0x1});});}}const _0x595143=SemanticType[a0_0x1191('0xe2')](_0x3dff01['type']);if(_0x595143){const _0x3883b0=_0x595143[a0_0x1191('0xfa')](_0xdf0672[a0_0x1191('0xfc')],_0x3dff01[a0_0x1191('0x3d')],_0x3dff01[a0_0x1191('0x7e')]);for(const _0x5b167e of _0x3883b0){await addLearned({..._0x5b167e,'rank':0x1});}}}}async function synonymCreated(_0x3bf799){for(const _0x230c15 of _0x3bf799){for(const _0x365c23 of _0x230c15[a0_0x1191('0x101')]){await addLearned({'n':_0x365c23,'t':a0_0x1191('0x9c'),'norm':_0x230c15[a0_0x1191('0x5c')],'rank':0x0});}}}async function funcCreated(_0x5032b7){await addLearned({'n':_0x5032b7[a0_0x1191('0x3d')],'s':_0x5032b7[a0_0x1191('0x7a')],'t':a0_0x1191('0x9d'),'rank':0x1});if(_0x5032b7[a0_0x1191('0x9c')]){for(const _0x5e19c3 of _0x5032b7[a0_0x1191('0x9c')]){await addLearned({'n':_0x5e19c3,'s':_0x5032b7[a0_0x1191('0x7a')],'t':a0_0x1191('0x9c'),'norm':_0x5032b7[a0_0x1191('0x3d')],'rank':0x0});}}}const logicOps=[{'norm':'$eq','data':['等于','=','为','是',':','：'],'pos':'f'},{'norm':a0_0x1191('0x62'),'data':[a0_0x1191('0x8c'),a0_0x1191('0x6e'),a0_0x1191('0x48')],'pos':'f'},{'norm':a0_0x1191('0x62'),'data':['>='],'pos':'*'},{'norm':a0_0x1191('0x0'),'data':['小于等于',a0_0x1191('0x129'),a0_0x1191('0xa5'),a0_0x1191('0xe0')],'pos':'f'},{'norm':a0_0x1191('0x0'),'data':['<='],'pos':'*'},{'norm':a0_0x1191('0x91'),'data':['大于','高于','多于','超过'],'pos':'f'},{'norm':'$gt','data':['>'],'pos':'*'},{'norm':'$lt','data':['小于','低于','少于'],'pos':'f'},{'norm':a0_0x1191('0xa9'),'data':['<'],'pos':'*'},{'norm':a0_0x1191('0xe5'),'data':['!=',a0_0x1191('0x1e'),'不是','非','不','除外','除非','除了'],'pos':'f'},{'norm':'$ne','data':['以外','之外'],'pos':'b'},{'norm':a0_0x1191('0x62'),'data':['以上','以后','之后','后'],'pos':'b'},{'norm':a0_0x1191('0x0'),'data':['以下','以内','以前','之前','前'],'pos':'b'},{'norm':a0_0x1191('0xac'),'data':['最大','最多','最高','最重','最长','最好','最新','最晚','TOP','第一','第1','前','最贵'],'with':a0_0x1191('0xef'),'pos':'*','type':a0_0x1191('0xb6'),'to':a0_0x1191('0x10a')},{'norm':a0_0x1191('0xcb'),'data':['最小','最少','最低','最矮','最轻','最短','最差','最早',a0_0x1191('0x85'),'后'],'with':a0_0x1191('0xef'),'pos':'*','type':a0_0x1191('0xb6'),'to':a0_0x1191('0x10a')},{'norm':a0_0x1191('0x49'),'data':['平均']},{'norm':'$sum','data':['总','总和']},{'norm':a0_0x1191('0xd2'),'data':['同比',a0_0x1191('0x92'),a0_0x1191('0x105')]},{'norm':a0_0x1191('0x73'),'data':['环比',a0_0x1191('0x126'),a0_0x1191('0x4f')]},{'norm':a0_0x1191('0xc1'),'data':['占比','比例']},{'norm':'$count','data':['总数','多少','数量','几个','几只','几条','几笔','次数','个数','笔数','数']},{'norm':a0_0x1191('0x108'),'data':['多少','几']},{'norm':a0_0x1191('0x28'),'data':['分布'],'pos':'b'},{'norm':'$group','data':['统计','汇总','分组','分类'],'pos':'b'},{'norm':a0_0x1191('0xda'),'data':['分析'],'pos':'*'},{'norm':'$group','data':['不同'],'pos':'f'},{'norm':a0_0x1191('0xaf'),'data':['日','每天','每日','天']},{'norm':a0_0x1191('0xb3'),'data':['周','每周']},{'norm':'$monthly','data':['月','每月']},{'norm':a0_0x1191('0x2a'),'data':['季度']},{'norm':a0_0x1191('0x5f'),'data':['年','每年']},{'norm':a0_0x1191('0x56'),'data':['小时','每小时']},{'norm':'$truthOrNot','data':['是否','是不是']},{'norm':a0_0x1191('0xde'),'data':['所有','全部','数据']},{'norm':a0_0x1191('0x125'),'data':['到','至','~','～']}];const everyx=['个','位','条','只','匹','头','峰','颗','根','张','片','棵','株','粒','朵','顿','份','把','台','帖','盘','面','件','枚','座','栋','辆','列','架','艘','块','封','篇','首','则','幅','道','场','通','支','门','堂','档','种','类','家','户'];const everyGroupLogicOp=logicOps[a0_0x1191('0x96')](_0x256eb1=>_0x256eb1['data'][0x0]==='不同');for(const x of everyx){everyGroupLogicOp[a0_0x1191('0x5a')]['push']('每'+x);}function getTimeWindow(){return[a0_0x1191('0x5f'),'$quarterly',a0_0x1191('0xf0'),a0_0x1191('0xb3'),a0_0x1191('0xaf'),a0_0x1191('0x56')];}function isTimeWindow(_0x4cfb62){return getTimeWindow()['indexOf'](_0x4cfb62)>=0x0;}class WordSegmentationNode{constructor(_0x44b899){if(_0x44b899==null)return;this['_id']=_0x44b899['_id'];this[a0_0x1191('0x6')]=_0x44b899['t'];if(_0x44b899['s'])this[a0_0x1191('0x7a')]=_0x44b899['s'];switch(this['tag']){case a0_0x1191('0x20'):this[a0_0x1191('0x70')]={'operator':'$ent','field':_0x44b899[a0_0x1191('0x2f')],'name':_0x44b899['name'],'schema':this[a0_0x1191('0x7a')]};break;case'quantifier':this[a0_0x1191('0x70')]=_0x44b899[a0_0x1191('0xd')];break;case a0_0x1191('0x95'):this[a0_0x1191('0x70')]=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xca'));break;case a0_0x1191('0xef'):if(_0x44b899[a0_0x1191('0xd')]['primal_type']==='boolean'){this['tag']=a0_0x1191('0xed');this[a0_0x1191('0x106')]=!![];this[a0_0x1191('0x70')]={'query':{[_0x44b899[a0_0x1191('0xd')]['name']]:!![]}};}else{this[a0_0x1191('0x70')]={'pred':_0x44b899['property']};}break;case a0_0x1191('0xed'):this['payload']={'query':{[_0x44b899['f']]:_0x44b899['n']}};break;case a0_0x1191('0x7a'):this[a0_0x1191('0x6')]=a0_0x1191('0xed');this['is_schema']=!![];this[a0_0x1191('0x70')]={'query':{}};break;case a0_0x1191('0x10a'):this['payload']={'val':_0x44b899[a0_0x1191('0xe')],'type':_0x44b899[a0_0x1191('0x3f')]};break;case a0_0x1191('0x9d'):const _0xc4b006=[a0_0x1191('0x93'),'$gte',a0_0x1191('0x0'),a0_0x1191('0x91'),a0_0x1191('0xa9'),'$ne'];const _0xf1c59c=['$max','$min'];const _0x109de5=[a0_0x1191('0xda')];const _0x4e3d5a=[a0_0x1191('0x6f')];const _0x4a8ea7=[a0_0x1191('0x49'),'$sum',a0_0x1191('0xd2'),a0_0x1191('0x73'),'$daily',a0_0x1191('0xb3'),a0_0x1191('0xf0'),a0_0x1191('0x2a'),a0_0x1191('0x5f'),a0_0x1191('0x56')];const _0x37bf4c=[a0_0x1191('0x6a')];const _0x40e91e=['$howmuch'];const _0x3b6c4b=[a0_0x1191('0xc1')];const _0x12fc5e=['$distribution'];const _0x4effa4=[a0_0x1191('0xde')];if(_0xc4b006['indexOf'](_0x44b899['n'])>=0x0){this['tag']=a0_0x1191('0xed');let _0x55af0c;switch(_0x44b899['n']){case'$ne':case a0_0x1191('0x93'):_0x55af0c=[a0_0x1191('0xbf'),'number',a0_0x1191('0x10'),a0_0x1191('0x52')];break;case a0_0x1191('0x91'):case a0_0x1191('0x62'):case a0_0x1191('0xa9'):case'$lte':_0x55af0c=['number',a0_0x1191('0x10'),a0_0x1191('0x52')];break;}this[a0_0x1191('0xa')]={'compare':{'operator':_0x44b899['n'],'pos':_0x44b899['pos'],'acceptTypes':_0x55af0c}};break;}if(_0xf1c59c[a0_0x1191('0xe6')](_0x44b899['n'])>=0x0){this['tag']=a0_0x1191('0xd7');this['slot']={'operator':_0x44b899['n']};break;}if(_0x109de5[a0_0x1191('0xe6')](_0x44b899['n'])>=0x0){this['tag']='group';this[a0_0x1191('0xa')]={'pos':_0x44b899[a0_0x1191('0x61')]};break;}if(_0x4e3d5a[a0_0x1191('0xe6')](_0x44b899['n'])>=0x0){this[a0_0x1191('0x6')]='count';break;}if(_0x4a8ea7[a0_0x1191('0xe6')](_0x44b899['n'])>=0x0){this[a0_0x1191('0x6')]=a0_0x1191('0x75');this['slot']={'operator':_0x44b899['n']};break;}if(_0x37bf4c[a0_0x1191('0xe6')](_0x44b899['n'])>=0x0){this[a0_0x1191('0x6')]='truthornot';break;}if(_0x40e91e[a0_0x1191('0xe6')](_0x44b899['n'])>=0x0){this['tag']=a0_0x1191('0x64');break;}if(_0x3b6c4b['indexOf'](_0x44b899['n'])>=0x0){this[a0_0x1191('0x6')]=a0_0x1191('0x46');break;}if(_0x12fc5e[a0_0x1191('0xe6')](_0x44b899['n'])>=0x0){this[a0_0x1191('0x6')]=a0_0x1191('0x69');break;}if(_0x4effa4['indexOf'](_0x44b899['n'])>=0x0){this[a0_0x1191('0x6')]=a0_0x1191('0x95');break;}if([a0_0x1191('0x125')]['indexOf'](_0x44b899['n'])>=0x0){this[a0_0x1191('0x6')]='between';this[a0_0x1191('0xa')]={'leftVal':undefined,'rightVal':undefined};break;}this[a0_0x1191('0x6')]='func';this[a0_0x1191('0x70')]={'operator':_0x44b899['n']};break;}}[a0_0x1191('0x110')](){const _0x57b8fa=_0x329d66=>{if(Array[a0_0x1191('0xec')](_0x329d66)){return _0x329d66['map'](_0x1360c6=>_0x57b8fa(_0x1360c6));}if(typeof _0x329d66===a0_0x1191('0xc5')){if(_0x329d66==null){return _0x329d66;}if(_0x329d66 instanceof Date||_0x329d66 instanceof WordSegmentationNode){return _0x329d66;}else if(a0_0x1191('0x3d')in _0x329d66){return _0x329d66;}else{const _0x488205={};for(const [_0x5e4122,_0x35838c]of Object[a0_0x1191('0x57')](_0x329d66)){_0x488205[_0x5e4122]=_0x57b8fa(_0x35838c);}return _0x488205;}}return _0x329d66;};const _0x3b0fc5=new WordSegmentationNode();_0x3b0fc5['tag']=this[a0_0x1191('0x6')];if(this['schema'])_0x3b0fc5[a0_0x1191('0x7a')]=this['schema'];if(this['is_schema'])_0x3b0fc5[a0_0x1191('0x41')]=this[a0_0x1191('0x41')];if(this[a0_0x1191('0xa')])_0x3b0fc5[a0_0x1191('0xa')]=_0x57b8fa(this[a0_0x1191('0xa')]);if(this[a0_0x1191('0x3f')])_0x3b0fc5['type']=this[a0_0x1191('0x3f')];if(this[a0_0x1191('0x70')]){if(Array[a0_0x1191('0xec')](this[a0_0x1191('0x70')])){_0x3b0fc5['payload']=[...this[a0_0x1191('0x70')]];}else if(typeof this['payload']===a0_0x1191('0xc5')){_0x3b0fc5[a0_0x1191('0x70')]=_0x57b8fa(this[a0_0x1191('0x70')]);}else{_0x3b0fc5[a0_0x1191('0x70')]=this[a0_0x1191('0x70')];}}return _0x3b0fc5;}[a0_0x1191('0x6c')](){if(this[a0_0x1191('0x6')]===a0_0x1191('0xed')){if(this[a0_0x1191('0xa')]&&this[a0_0x1191('0xa')]['pred']&&this[a0_0x1191('0xa')][a0_0x1191('0x10a')]!==undefined){if(this[a0_0x1191('0x70')]!=null)throw new Error(a0_0x1191('0x11d'));if(this[a0_0x1191('0xa')]['compare']==null){this[a0_0x1191('0x70')]={'query':{[this[a0_0x1191('0xa')][a0_0x1191('0xef')][a0_0x1191('0x3d')]]:this[a0_0x1191('0xa')][a0_0x1191('0x10a')]}};}else{if(typeof this[a0_0x1191('0xa')][a0_0x1191('0x10a')]===a0_0x1191('0xc5')&&a0_0x1191('0x62')in this[a0_0x1191('0xa')][a0_0x1191('0x10a')]){if(this[a0_0x1191('0xa')][a0_0x1191('0x11a')][a0_0x1191('0x127')]===a0_0x1191('0x93')){this[a0_0x1191('0x70')]={'query':{[this[a0_0x1191('0xa')]['pred']['name']]:this['slot'][a0_0x1191('0x10a')]}};}else if(this['slot'][a0_0x1191('0x11a')]['operator']===a0_0x1191('0xe5')){this[a0_0x1191('0x70')]={'query':{[this['slot']['pred']['name']]:{[this[a0_0x1191('0xa')][a0_0x1191('0x11a')][a0_0x1191('0x127')]]:this['slot'][a0_0x1191('0x10a')]}}};}else{this[a0_0x1191('0x70')]={'query':{[this[a0_0x1191('0xa')][a0_0x1191('0xef')][a0_0x1191('0x3d')]]:{[this[a0_0x1191('0xa')]['compare'][a0_0x1191('0x127')]]:this[a0_0x1191('0xa')][a0_0x1191('0x10a')][this[a0_0x1191('0xa')][a0_0x1191('0x11a')][a0_0x1191('0x127')]]}}};}}else{if(Array['isArray'](this[a0_0x1191('0xa')]['val'])&&this['slot'][a0_0x1191('0x10a')]['length']===0x1){this[a0_0x1191('0xa')][a0_0x1191('0x10a')]['push']({'pred':this['slot'][a0_0x1191('0xef')][a0_0x1191('0x3d')]});}if(this[a0_0x1191('0xa')][a0_0x1191('0x11a')][a0_0x1191('0x127')]===a0_0x1191('0x93')){this[a0_0x1191('0x70')]={'query':{[this['slot'][a0_0x1191('0xef')][a0_0x1191('0x3d')]]:this[a0_0x1191('0xa')][a0_0x1191('0x10a')]}};}else{this[a0_0x1191('0x70')]={'query':{[this['slot']['pred'][a0_0x1191('0x3d')]]:{[this[a0_0x1191('0xa')][a0_0x1191('0x11a')][a0_0x1191('0x127')]]:this['slot'][a0_0x1191('0x10a')]}}};}}}delete this[a0_0x1191('0xa')];}return;}if(this[a0_0x1191('0x6')]===a0_0x1191('0xd7')){if(this[a0_0x1191('0xa')]&&this[a0_0x1191('0xa')]['pred']&&this['slot'][a0_0x1191('0x10a')]!==undefined){if(this['payload']!=null)throw new Error(a0_0x1191('0x11d'));if(this[a0_0x1191('0xa')][a0_0x1191('0x63')]&&this['slot'][a0_0x1191('0x10a')]===0x1){this[a0_0x1191('0x6')]=a0_0x1191('0xef');const _0x20792c={'name':''+WordSegmentationNode['operatorToName'](this[a0_0x1191('0xa')][a0_0x1191('0x127')])+this[a0_0x1191('0xa')][a0_0x1191('0xef')][a0_0x1191('0x3d')],'primal_type':this['slot'][a0_0x1191('0xef')][a0_0x1191('0x98')],'calc':{'operator':this[a0_0x1191('0xa')][a0_0x1191('0x127')],'pred':this['slot']['pred']}};this[a0_0x1191('0x70')]={'pred':_0x20792c};}else{this['tag']=a0_0x1191('0xed');const _0x113cc0=this[a0_0x1191('0xa')][a0_0x1191('0xef')][a0_0x1191('0x3d')];this[a0_0x1191('0x70')]={'query':{},'total':this['slot'][a0_0x1191('0x10a')],'sort':{[_0x113cc0]:this[a0_0x1191('0xa')][a0_0x1191('0x127')]===a0_0x1191('0xac')?-0x1:0x1}};if(this[a0_0x1191('0xa')][a0_0x1191('0xef')][a0_0x1191('0x75')])this[a0_0x1191('0x70')][a0_0x1191('0x75')]={[_0x113cc0]:this['slot'][a0_0x1191('0xef')][a0_0x1191('0x75')]};if(this[a0_0x1191('0xa')][a0_0x1191('0xed')]&&this['slot'][a0_0x1191('0xed')][a0_0x1191('0xae')])this['payload']['query']=this['slot'][a0_0x1191('0xed')]['query'];}delete this[a0_0x1191('0xa')];}return;}}static[a0_0x1191('0xbb')](_0x21bfe4){if(a0_0x90b76d[a0_0x1191('0x59')](_0x21bfe4[a0_0x1191('0xae')])&&_0x21bfe4[a0_0x1191('0xee')]==null&&(_0x21bfe4[a0_0x1191('0x17')]==null||a0_0x90b76d[a0_0x1191('0x59')](_0x21bfe4[a0_0x1191('0x17')]))){return!![];}return![];}[a0_0x1191('0x1c')](_0x6240eb,_0xf372c4){const _0x2cf8cb=this[a0_0x1191('0x110')]();_0x2cf8cb[a0_0x1191('0x7a')]=_0x6240eb;if(_0x2cf8cb[a0_0x1191('0x70')][a0_0x1191('0xae')]){for(const [_0x449833,_0x3fc716]of Object['entries'](_0x2cf8cb['payload'][a0_0x1191('0xae')])){_0x2cf8cb[a0_0x1191('0x70')][a0_0x1191('0xae')][_0xf372c4[a0_0x1191('0x3d')]+'_'+_0x449833]=_0x3fc716;delete _0x2cf8cb[a0_0x1191('0x70')]['query'][_0x449833];}}if(_0x2cf8cb[a0_0x1191('0x70')][a0_0x1191('0x17')]){for(const [_0x554aec,_0x32e23b]of Object[a0_0x1191('0x57')](_0x2cf8cb[a0_0x1191('0x70')]['sort'])){_0x2cf8cb[a0_0x1191('0x70')][a0_0x1191('0x17')][_0xf372c4['name']+'_'+_0x554aec]=_0x32e23b;delete _0x2cf8cb[a0_0x1191('0x70')][a0_0x1191('0x17')][_0x554aec];}}return _0x2cf8cb;}[a0_0x1191('0x38')](_0x25f290){if(this[a0_0x1191('0x6')]!==a0_0x1191('0xed'))throw new Error('你在干嘛');const _0x34fa7a=this[a0_0x1191('0x110')]();_0x34fa7a[a0_0x1191('0x70')]=WordSegmentationNode[a0_0x1191('0xcd')](_0x34fa7a[a0_0x1191('0x70')],_0x25f290);return _0x34fa7a;}static[a0_0x1191('0xcd')](_0xe60807,_0x274f70){const _0x27ba0c={'query':{}};const _0x8bca85=_0x3e63f4=>{if(_0x3e63f4){if(_0x3e63f4[a0_0x1191('0xae')]){for(const [_0x11add0,_0xf26b99]of Object[a0_0x1191('0x57')](_0x3e63f4[a0_0x1191('0xae')])){if(_0x11add0 in _0x27ba0c[a0_0x1191('0xae')]){let _0x2b1510;if(typeof _0x27ba0c[a0_0x1191('0xae')][_0x11add0]===a0_0x1191('0xc5')){if('$in'in _0x27ba0c[a0_0x1191('0xae')][_0x11add0]){_0x2b1510=[..._0x27ba0c['query'][_0x11add0][a0_0x1191('0x7d')],_0xf26b99];}else if(typeof _0xf26b99==='object'){_0x27ba0c['query'][_0x11add0]={..._0x27ba0c[a0_0x1191('0xae')][_0x11add0],..._0xf26b99};}}else{_0x2b1510=[_0x27ba0c[a0_0x1191('0xae')][_0x11add0],_0xf26b99];}if(_0x2b1510){_0x2b1510=a0_0x90b76d[a0_0x1191('0xe1')](_0x2b1510);if(_0x2b1510[a0_0x1191('0x4e')]===0x1){_0x27ba0c['query'][_0x11add0]=_0x2b1510[0x0];}else{_0x27ba0c[a0_0x1191('0xae')][_0x11add0]={'$in':_0x2b1510};}}}else{_0x27ba0c[a0_0x1191('0xae')][_0x11add0]=_0xf26b99;}}}if(_0x3e63f4['total']!=null)_0x27ba0c[a0_0x1191('0xee')]=_0x3e63f4[a0_0x1191('0xee')];if(_0x3e63f4['sort']!=null)_0x27ba0c[a0_0x1191('0x17')]=_0x3e63f4['sort'];if(_0x3e63f4[a0_0x1191('0x75')]!=null)_0x27ba0c[a0_0x1191('0x75')]=_0x3e63f4[a0_0x1191('0x75')];}};_0x8bca85(_0xe60807);_0x8bca85(_0x274f70);return _0x27ba0c;}[a0_0x1191('0x8f')](_0x3a433f){const _0x794021=this[a0_0x1191('0xa')][a0_0x1191('0x11a')][a0_0x1191('0x102')];let _0x24ce54=_0x794021[a0_0x1191('0xe6')](_0x3a433f)>=0x0;if(_0x24ce54&&this[a0_0x1191('0xa')][a0_0x1191('0x10a')]!==undefined&&this['slot']['val_type']!==a0_0x1191('0x20')){_0x24ce54=_0x3a433f===this[a0_0x1191('0xa')][a0_0x1191('0x25')];}return _0x24ce54;}[a0_0x1191('0x27')](_0x3085b3){let _0x46454f;if(this[a0_0x1191('0xa')]&&this[a0_0x1191('0xa')][a0_0x1191('0x11a')]&&this[a0_0x1191('0xa')][a0_0x1191('0x11a')]['pos'])_0x46454f=this['slot'][a0_0x1191('0x11a')][a0_0x1191('0x61')];else if(this[a0_0x1191('0xa')]&&this['slot'][a0_0x1191('0x61')])_0x46454f=this[a0_0x1191('0xa')][a0_0x1191('0x61')];else return![];return _0x46454f==='*'||_0x46454f==='f'&&_0x3085b3||_0x46454f==='b'&&!_0x3085b3;}[a0_0x1191('0x114')](_0x5ee03a){let _0x5f5c72=0x0;if(this['is_schema']){_0x5f5c72++;}if(this[a0_0x1191('0x6')]===a0_0x1191('0x20')){_0x5f5c72+=0x2;}if(this['tag']==='filter'){_0x5f5c72++;}if(this['tag']===a0_0x1191('0xef')&&this['payload'][a0_0x1191('0xef')][a0_0x1191('0x75')]&&this[a0_0x1191('0x70')][a0_0x1191('0xef')]['calc'][a0_0x1191('0x41')]){_0x5f5c72++;}if(_0x5ee03a[a0_0x1191('0xa8')]){_0x5f5c72--;}this[a0_0x1191('0x114')]=_0x5f5c72;}[a0_0x1191('0x29')](){if(this[a0_0x1191('0x6')]===a0_0x1191('0xef')&&this[a0_0x1191('0x70')]&&this['payload'][a0_0x1191('0xef')]&&this[a0_0x1191('0x70')][a0_0x1191('0xef')]['calc']&&isTimeWindow(this[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x75')][a0_0x1191('0x127')])){const _0x83166f=new WordSegmentationNode();_0x83166f[a0_0x1191('0x6')]=a0_0x1191('0x84');_0x83166f[a0_0x1191('0x70')]={'_id':this[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x75')][a0_0x1191('0x127')],'filter':{'query':{}},'schema':this[a0_0x1191('0x7a')],'preds':[{'pred':this[a0_0x1191('0x70')]['pred'][a0_0x1191('0x75')]['pred']}]};if(!this[a0_0x1191('0x70')][a0_0x1191('0xef')]['calc'][a0_0x1191('0xef')][a0_0x1191('0x75')]){_0x83166f['payload'][a0_0x1191('0x83')][0x0]['operator']=a0_0x1191('0xc7');}if(this[a0_0x1191('0x70')][a0_0x1191('0xed')])_0x83166f[a0_0x1191('0x70')][a0_0x1191('0xed')]=this[a0_0x1191('0x70')][a0_0x1191('0xed')];return _0x83166f;}return null;}static['filterPayloadToName'](_0x111c74,_0xbf91f5){let _0x10f377='';for(const [_0x5f1114,_0x320e0d]of Object[a0_0x1191('0x57')](_0x111c74[a0_0x1191('0xae')])){const _0x3a1472=_0xbf91f5[a0_0x1191('0x10d')][a0_0x1191('0x96')](_0x19addf=>_0x19addf[a0_0x1191('0x3d')]===_0x5f1114);let _0x45c976='';if(_0x3a1472){if(_0x3a1472[a0_0x1191('0x98')]===a0_0x1191('0xbf')){let _0x437df6='';if(_0x320e0d===!![])_0x437df6='';else if(_0x320e0d===![])_0x437df6='非';else if(typeof _0x320e0d===a0_0x1191('0xc5')&&'$ne'in _0x320e0d){if(_0x320e0d[a0_0x1191('0xe5')])_0x437df6='非';}_0x45c976=''+_0x437df6+_0x5f1114;}else if(_0x3a1472[a0_0x1191('0x98')]===a0_0x1191('0x10')){const _0x267ad5=a0_0x44a94c(_0x320e0d[a0_0x1191('0x62')]||_0x320e0d[a0_0x1191('0x91')]);const _0x21f029=a0_0x44a94c(_0x320e0d[a0_0x1191('0x0')]||_0x320e0d['$lt']);const _0x479c79=a0_0x44a94c[a0_0x1191('0xdc')](_0x21f029[a0_0x1191('0x14')](_0x267ad5))['as'](a0_0x1191('0x82'));if(_0x479c79>0x1b&&_0x479c79<0x20){_0x45c976=_0x267ad5['format'](a0_0x1191('0xd8'));}else if(_0x479c79>0x58&&_0x479c79<0x5d){_0x45c976=_0x267ad5['format'](a0_0x1191('0x1a'));}else if(_0x479c79>0x16c&&_0x479c79<0x16e){_0x45c976=_0x267ad5[a0_0x1191('0x104')]('YYYY年');}else{_0x45c976=_0x267ad5[a0_0x1191('0x104')](a0_0x1191('0x12e'))+'～'+_0x21f029[a0_0x1191('0x104')](a0_0x1191('0x12e'));}}else if(typeof _0x320e0d!==a0_0x1191('0xc5')){if(_0x3a1472[a0_0x1191('0xf4')]){_0x45c976=''+_0x320e0d;}else{_0x45c976=_0x5f1114+'：'+_0x320e0d;}}else{_0x45c976='';}}else{if(typeof _0x320e0d===a0_0x1191('0x52')){_0x45c976=_0x320e0d;}else{_0x45c976='';}}_0x10f377+=_0x45c976;}return _0x10f377;}static[a0_0x1191('0x3e')](_0x32d7aa){switch(_0x32d7aa){case a0_0x1191('0x6f'):return'数量';case'$avg':return'平均';case a0_0x1191('0xac'):return'最大';case a0_0x1191('0xcb'):return'最小';case'$sum':return'总';case'$hourly':return a0_0x1191('0x12a');case'$daily':return'日';case'$yearly':return'年';case'$weekly':return'周';case'$monthly':return'月';case'$quarterly':return'季度';case a0_0x1191('0xd2'):return'同比';case'$mom':return'环比';}}static['getDistance'](_0x52eafc){const _0x3f024d=[['$BETWEEN+VAL',a0_0x1191('0x1b')],[a0_0x1191('0x11'),a0_0x1191('0x10b'),a0_0x1191('0xf'),a0_0x1191('0xb5'),a0_0x1191('0x31')],[a0_0x1191('0x94'),a0_0x1191('0x68'),a0_0x1191('0x8b')],a0_0x1191('0xbc'),['COMPAREVAL+PRED','FILTER+PRED-SAMEKEY',a0_0x1191('0x121')],a0_0x1191('0x87'),a0_0x1191('0x35'),a0_0x1191('0x8a'),a0_0x1191('0xca'),[a0_0x1191('0x120'),a0_0x1191('0x5b')],a0_0x1191('0x80'),a0_0x1191('0x10e'),a0_0x1191('0x7c'),[a0_0x1191('0x109'),'FILTER+$PERCENTAGE',a0_0x1191('0x79'),'PRED+$DISTRIBUTION'],a0_0x1191('0xe9'),a0_0x1191('0x112'),'$COMPARE+ENTITY',a0_0x1191('0x66'),a0_0x1191('0xd5'),a0_0x1191('0x30'),a0_0x1191('0x5'),'$COUNT+EVENT',a0_0x1191('0x2b'),'ENTITYCHAIN+FILTER-SAME',a0_0x1191('0x8'),'FILTER+PRED-EVENTREF-SAMESCHEMA','GROUP+FILTER-SAME','GROUP+PRED-SAME',a0_0x1191('0x117'),'PRED+PRED',a0_0x1191('0x39'),a0_0x1191('0x5e'),'CLEANUP',a0_0x1191('0x50')];for(let _0x30d506=0x0;_0x30d506<_0x3f024d[a0_0x1191('0x4e')];_0x30d506++){const _0x5aac77=_0x3f024d[_0x30d506];if(Array['isArray'](_0x5aac77)&&_0x5aac77[a0_0x1191('0xe6')](_0x52eafc)>=0x0)return _0x30d506;if(_0x5aac77===_0x52eafc)return _0x30d506;}throw new Error(a0_0x1191('0x122')+_0x52eafc);}}var entityPredO=(_0x4b7ae9,_0x1b5f35,_0x1b2c47,_0x1028b6,_0x31839f)=>{if(_0x4b7ae9[a0_0x1191('0x7a')]===_0x1b5f35[a0_0x1191('0x7a')]){const _0x1e8117=WordSegmentationNode['getDistance'](a0_0x1191('0x112'));if(_0x31839f)return{'distance':_0x1e8117};const _0xc23840=_0x1b5f35['payload'][a0_0x1191('0xef')];if(_0xc23840[a0_0x1191('0x3f')]===a0_0x1191('0xc5')){const _0x11cea5=_0x4b7ae9['deepclone']();_0x11cea5[a0_0x1191('0x70')][a0_0x1191('0x127')]='$ent';_0x11cea5[a0_0x1191('0x7a')]=_0x1b5f35[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x22')];const _0x29029a={'pred':_0x1b5f35[a0_0x1191('0x70')][a0_0x1191('0xef')]};if(_0x1b5f35['payload'][a0_0x1191('0xed')])_0x29029a['filter']={..._0x1b5f35[a0_0x1191('0x70')][a0_0x1191('0xed')]};if(_0x11cea5['payload'][a0_0x1191('0x11e')]===undefined)_0x11cea5['payload']['chain']=[];_0x11cea5[a0_0x1191('0x70')][a0_0x1191('0x11e')][a0_0x1191('0x10f')](_0x29029a);return{'node':_0x11cea5,'distance':_0x1e8117};}else{const _0x469aff=_0x4b7ae9['deepclone']();delete _0x469aff[a0_0x1191('0x7a')];_0x469aff[a0_0x1191('0x6')]=a0_0x1191('0x10a');_0x469aff[a0_0x1191('0x70')]={'val':_0x469aff[a0_0x1191('0x70')],'type':_0x1b5f35[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x98')]};if(_0x469aff[a0_0x1191('0x70')][a0_0x1191('0x10a')][a0_0x1191('0x83')]===undefined)_0x469aff[a0_0x1191('0x70')][a0_0x1191('0x10a')][a0_0x1191('0x83')]=[];_0x469aff[a0_0x1191('0x70')][a0_0x1191('0x10a')][a0_0x1191('0x83')][a0_0x1191('0x10f')]({..._0x1b5f35[a0_0x1191('0x70')]});return{'node':_0x469aff,'distance':_0x1e8117};}}return null;};var entityFilter=(_0x16d238,_0x5da098,_0x7e2186,_0x15ffee,_0x22e761,_0x2a35a9)=>{if(_0x5da098[a0_0x1191('0xa')]!=null&&_0x5da098[a0_0x1191('0xa')][a0_0x1191('0x10a')]===undefined&&_0x5da098[a0_0x1191('0xa')][a0_0x1191('0xef')]===undefined&&_0x5da098[a0_0x1191('0x27')](!_0x7e2186)){const _0x550dda=WordSegmentationNode['getDistance'](a0_0x1191('0xb9'));if(_0x22e761)return{'distance':_0x550dda};if(_0x5da098[a0_0x1191('0xa')][a0_0x1191('0x11a')]&&_0x5da098['slot'][a0_0x1191('0x11a')][a0_0x1191('0x127')]===a0_0x1191('0x93')){return{'node':_0x16d238,'distance':_0x550dda};}const _0x1bd943=_0x5da098[a0_0x1191('0x110')]();_0x1bd943[a0_0x1191('0x7a')]=_0x16d238['schema'];_0x1bd943['slot'][a0_0x1191('0x10a')]=_0x16d238[a0_0x1191('0x70')];_0x1bd943[a0_0x1191('0xa')][a0_0x1191('0x25')]='entity';_0x2a35a9[a0_0x1191('0xa8')]=!![];return{'node':_0x1bd943,'distance':_0x550dda};}if(_0x5da098[a0_0x1191('0x70')]&&_0x5da098[a0_0x1191('0x41')]&&WordSegmentationNode[a0_0x1191('0xbb')](_0x5da098[a0_0x1191('0x70')])&&_0x16d238[a0_0x1191('0x7a')]===_0x5da098[a0_0x1191('0x7a')]){const _0x28f7fc=WordSegmentationNode[a0_0x1191('0x24')]('SCHEMA+ENTITY');if(_0x22e761)return{'distance':_0x28f7fc};return{'node':_0x16d238,'distance':_0x28f7fc};}return null;};var entityFilterO=(_0x1ef96a,_0x84eb69,_0x337006,_0x11322c,_0x3301e1,_0x2fa9b5)=>{if(_0x84eb69[a0_0x1191('0x70')]){if(_0x1ef96a[a0_0x1191('0x7a')]===_0x84eb69['schema']){if(_0x1ef96a['payload'][a0_0x1191('0x4e')]>0x1){const _0x65847=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xa2'));if(_0x3301e1)return{'distance':_0x65847};const _0x3d5159=_0x1ef96a[a0_0x1191('0x110')]();const _0x154480=_0x3d5159[a0_0x1191('0x70')][_0x3d5159[a0_0x1191('0x70')][a0_0x1191('0x4e')]-0x1];const _0x2aa8b9=WordSegmentationNode[a0_0x1191('0xcd')](_0x84eb69[a0_0x1191('0x70')],_0x154480['filter']);if(!WordSegmentationNode['isFilterPayloadEmpty'](_0x2aa8b9)){_0x154480['filter']=_0x2aa8b9;}return{'node':_0x3d5159,'distance':_0x65847};}}}const _0x1e2e56=entityFilter(_0x1ef96a,_0x84eb69,_0x337006,_0x11322c,_0x3301e1,_0x2fa9b5);return _0x1e2e56;};var filterGroupO=(_0x3b51ea,_0x5efbfd,_0xa850a3,_0x3dae31,_0x113427)=>{if(_0x3b51ea[a0_0x1191('0x70')]&&_0x5efbfd[a0_0x1191('0x70')]){if(_0x3b51ea[a0_0x1191('0x7a')]===_0x5efbfd[a0_0x1191('0x7a')]){const _0x1fd23e=WordSegmentationNode['getDistance']('GROUP+FILTER-SAME');if(_0x113427)return{'distance':_0x1fd23e};const _0x1bb68a=_0x5efbfd[a0_0x1191('0x110')]();const _0x5e81ce=WordSegmentationNode['combineFilterPayloads'](_0x3b51ea['payload'],_0x5efbfd[a0_0x1191('0x70')][a0_0x1191('0xed')]);if(!WordSegmentationNode['isFilterPayloadEmpty'](_0x5e81ce)){_0x1bb68a[a0_0x1191('0x70')][a0_0x1191('0xed')]=_0x5e81ce;}return{'node':_0x1bb68a,'distance':_0x1fd23e};}}return null;};var filterPercentageO=(_0x54e346,_0x28879d,_0x3bf01,_0x17db21,_0x958230,_0x262cf4)=>{if(_0x54e346[a0_0x1191('0x70')]){const _0x41010d=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xe4'));if(_0x958230)return{'distance':_0x41010d};const _0x44be77=new WordSegmentationNode();_0x44be77['tag']=a0_0x1191('0xef');_0x44be77[a0_0x1191('0x7a')]=_0x54e346[a0_0x1191('0x7a')];const _0x4d60e9={'name':'占比','primal_type':a0_0x1191('0x45'),'calc':{'filter':_0x54e346['payload'],'operator':a0_0x1191('0xc1')}};_0x44be77[a0_0x1191('0x70')]={'pred':_0x4d60e9};if(_0x262cf4['calc'][_0x44be77[a0_0x1191('0x7a')]]==null)_0x262cf4[a0_0x1191('0x75')][_0x44be77[a0_0x1191('0x7a')]]={};_0x262cf4[a0_0x1191('0x75')][_0x44be77['schema']][_0x4d60e9[a0_0x1191('0x3d')]]=_0x4d60e9;return{'node':_0x44be77,'distance':_0x41010d};}return null;};var predEntityO=(_0x1763c3,_0x42e86b,_0x4ddca7,_0x4709ce,_0x5b24c1)=>{if(_0x1763c3[a0_0x1191('0x7a')]===_0x42e86b[a0_0x1191('0x7a')]&&_0x42e86b[a0_0x1191('0x70')][a0_0x1191('0x4e')]===0x1&&Object[a0_0x1191('0x53')](_0x42e86b[a0_0x1191('0x70')][0x0][a0_0x1191('0x20')])[a0_0x1191('0x4e')]===0x1&&Object[a0_0x1191('0x53')](_0x42e86b[a0_0x1191('0x70')][0x0][a0_0x1191('0x20')])[0x0]===_0x1763c3['payload']['pred']['name']){const _0x2c192b=WordSegmentationNode['getDistance'](a0_0x1191('0x66'));if(_0x5b24c1)return{'distance':_0x2c192b};const _0xbfaa15=new WordSegmentationNode();_0xbfaa15[a0_0x1191('0x6')]=a0_0x1191('0xed');_0xbfaa15[a0_0x1191('0x7a')]=_0x1763c3[a0_0x1191('0x7a')];_0xbfaa15['payload']={'query':_0x42e86b[a0_0x1191('0x70')][0x0][a0_0x1191('0x20')]};return{'node':_0xbfaa15,'distance':_0x2c192b};}return null;};var groupPred=(_0x1b5518,_0xe6e2ca,_0x43cfe8,_0x3d4d80,_0x277c57,_0x47ca6d)=>{if(_0x1b5518[a0_0x1191('0x70')]==null&&_0x1b5518[a0_0x1191('0x27')](_0x43cfe8)){const _0x28b525=WordSegmentationNode['getDistance'](a0_0x1191('0x87'));if(_0x277c57)return{'distance':_0x28b525};const _0xba5977=_0x1b5518[a0_0x1191('0x110')]();_0xba5977[a0_0x1191('0x7a')]=_0xe6e2ca['schema'];if(_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x75')]&&isTimeWindow(_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')]['calc'][a0_0x1191('0x127')])){_0xba5977[a0_0x1191('0x70')]={'_id':_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x75')][a0_0x1191('0x127')]};if(_0xe6e2ca['payload']['pred'][a0_0x1191('0x75')][a0_0x1191('0xef')][a0_0x1191('0x75')]){_0xba5977[a0_0x1191('0x70')][a0_0x1191('0x83')]=[{'pred':_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x75')][a0_0x1191('0xef')]}];}else{if(_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x75')]['pred'][a0_0x1191('0x98')]===a0_0x1191('0x45')){_0xba5977['payload'][a0_0x1191('0x83')]=[{'pred':_0xe6e2ca[a0_0x1191('0x70')]['pred'][a0_0x1191('0x75')]['pred'],'operator':a0_0x1191('0xc7'),'name':_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')]['name']}];}else{_0xba5977['payload'][a0_0x1191('0x83')]=[{'pred':_0xe6e2ca['payload'][a0_0x1191('0xef')][a0_0x1191('0x75')]['pred'],'operator':'$count','name':_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x3d')]}];}}delete _0x47ca6d[a0_0x1191('0x75')][_0xe6e2ca[a0_0x1191('0x7a')]][_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x3d')]];}else{_0xba5977[a0_0x1191('0x70')]={'_id':_0xe6e2ca[a0_0x1191('0x70')]['pred'][a0_0x1191('0x3d')]};}delete _0xba5977['slot'];return{'node':_0xba5977,'distance':_0x28b525};}if(_0x1b5518[a0_0x1191('0x70')]&&_0xe6e2ca['payload'][a0_0x1191('0xef')][a0_0x1191('0x98')]!==a0_0x1191('0xc5')){if(_0xe6e2ca[a0_0x1191('0x7a')]===_0x1b5518[a0_0x1191('0x7a')]||_0x1b5518['schema']==null){const _0x46964a=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x36'));if(_0x277c57)return{'distance':_0x46964a};const _0x365d11=_0x1b5518[a0_0x1191('0x110')]();_0x365d11[a0_0x1191('0x7a')]=_0xe6e2ca['schema'];if(_0x365d11['payload'][a0_0x1191('0x83')]==null)_0x365d11[a0_0x1191('0x70')]['preds']=[];const _0x53158f={'pred':_0xe6e2ca['payload'][a0_0x1191('0xef')]};if(_0xe6e2ca[a0_0x1191('0x70')]['pred'][a0_0x1191('0x75')]==null){let _0x6b870=_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')]['name'];const _0x45d4d8={'primal_type':a0_0x1191('0x45'),'calc':{'pred':_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')]}};let _0x2b0cbe;if(_0xe6e2ca[a0_0x1191('0x70')]['pred'][a0_0x1191('0x98')]===a0_0x1191('0x45')){_0x2b0cbe=a0_0x1191('0xc7');_0x6b870='总'+_0x6b870;}else{_0x2b0cbe=a0_0x1191('0x6f');_0x6b870=_0x6b870+'数量';}_0x45d4d8[a0_0x1191('0x75')]['operator']=_0x2b0cbe;if(_0xe6e2ca['payload']['filter']){_0x45d4d8[a0_0x1191('0x75')][a0_0x1191('0xed')]=_0xe6e2ca['payload'][a0_0x1191('0xed')];_0x6b870=''+WordSegmentationNode[a0_0x1191('0x100')](_0xe6e2ca[a0_0x1191('0x70')]['filter'],_0x3d4d80[_0x365d11['schema']])+_0x6b870;}_0x45d4d8[a0_0x1191('0x3d')]=_0x6b870;if(_0x47ca6d['calc'][_0x365d11[a0_0x1191('0x7a')]]==null)_0x47ca6d[a0_0x1191('0x75')][_0x365d11['schema']]={};_0x47ca6d['calc'][_0x365d11[a0_0x1191('0x7a')]][_0x6b870]=_0x45d4d8;_0x53158f['pred']=_0x45d4d8;}else{const _0xa54775=WordSegmentationNode[a0_0x1191('0xcd')](_0x1b5518[a0_0x1191('0x70')][a0_0x1191('0xed')],_0xe6e2ca['payload'][a0_0x1191('0xed')]);_0x365d11[a0_0x1191('0x70')][a0_0x1191('0xed')]=_0xa54775;}_0x365d11['payload']['preds'][a0_0x1191('0x10f')](_0x53158f);return{'node':_0x365d11,'distance':_0x46964a};}}if(_0x43cfe8&&_0x1b5518['payload']&&_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x98')]==='object'&&_0xe6e2ca['schema']===_0x1b5518[a0_0x1191('0x7a')]){const _0x52832a=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x36'));if(_0x277c57)return{'distance':_0x52832a};const _0x5d878f=_0x1b5518[a0_0x1191('0x110')]();_0x5d878f[a0_0x1191('0x70')][a0_0x1191('0xfc')]=_0xe6e2ca[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x3d')];const _0x2fb10c=WordSegmentationNode['combineFilterPayloads'](_0x1b5518[a0_0x1191('0x70')][a0_0x1191('0xed')],_0xe6e2ca[a0_0x1191('0x70')]['filter']);_0x5d878f[a0_0x1191('0x70')][a0_0x1191('0xed')]=_0x2fb10c;return{'node':_0x5d878f,'distance':_0x52832a};}return null;};var predPredO=(_0x477241,_0x3d32ce,_0x3f68be,_0x3629d2,_0x5351ef,_0x56f414)=>{if(_0x477241[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x22')]===_0x3d32ce[a0_0x1191('0x7a')]&&_0x477241['payload'][a0_0x1191('0xed')]===undefined){const _0x43165a=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xbe'));if(_0x5351ef)return{'distance':_0x43165a};return{'node':_0x3d32ce,'distance':_0x43165a};}const _0x3c28b1=_0x477241[a0_0x1191('0x29')]();if(_0x3c28b1){if(!_0x5351ef&&_0x56f414&&_0x56f414[a0_0x1191('0x75')]&&_0x56f414['calc'][_0x477241[a0_0x1191('0x7a')]]){delete _0x56f414['calc'][_0x477241[a0_0x1191('0x7a')]][_0x477241[a0_0x1191('0x70')][a0_0x1191('0xef')]['name']];}return groupPred(_0x3c28b1,_0x3d32ce,_0x3f68be,_0x3629d2,_0x5351ef,_0x56f414);}return null;};var predPercentageO=(_0x18537f,_0x2690d5,_0x4d0629,_0x179e27,_0x48bd64,_0x1eba12)=>{const _0x47ff06=WordSegmentationNode['getDistance'](a0_0x1191('0x79'));if(_0x48bd64)return{'distance':_0x47ff06};if(_0x18537f['payload'][a0_0x1191('0xef')][a0_0x1191('0xf4')]){const _0x7b0864=new WordSegmentationNode();_0x7b0864[a0_0x1191('0x6')]='val';_0x7b0864['schema']=_0x18537f[a0_0x1191('0x7a')];const _0x37bd38={'name':_0x18537f[a0_0x1191('0x70')]['pred'][a0_0x1191('0x3d')]+'比例','primal_type':a0_0x1191('0x45'),'type':a0_0x1191('0x45'),'calc':{'operator':'$percentage','pred':_0x18537f[a0_0x1191('0x70')]['pred']}};_0x7b0864[a0_0x1191('0x70')]={'val':{'pred':_0x37bd38}};if(_0x18537f[a0_0x1191('0x70')][a0_0x1191('0xed')])_0x7b0864[a0_0x1191('0x70')][a0_0x1191('0xed')]=_0x18537f[a0_0x1191('0x70')][a0_0x1191('0xed')];if(_0x1eba12[a0_0x1191('0x75')][_0x7b0864[a0_0x1191('0x7a')]]==null)_0x1eba12[a0_0x1191('0x75')][_0x7b0864[a0_0x1191('0x7a')]]={};_0x1eba12['calc'][_0x7b0864[a0_0x1191('0x7a')]][_0x37bd38['name']]=_0x37bd38;return{'node':_0x7b0864,'distance':_0x47ff06};}const _0x87edec=new WordSegmentationNode();_0x87edec[a0_0x1191('0x6')]=a0_0x1191('0xef');_0x87edec[a0_0x1191('0x7a')]=_0x18537f[a0_0x1191('0x7a')];const _0x4f09fa={'name':_0x18537f[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x3d')]+'占比','primal_type':a0_0x1191('0x45'),'calc':{'pred':_0x18537f[a0_0x1191('0x70')][a0_0x1191('0xef')],'operator':a0_0x1191('0xc1')}};if(_0x18537f[a0_0x1191('0x70')]['filter'])_0x4f09fa[a0_0x1191('0x75')][a0_0x1191('0xed')]=_0x18537f[a0_0x1191('0x70')]['filter'];_0x87edec[a0_0x1191('0x70')]={'pred':_0x4f09fa};if(_0x1eba12[a0_0x1191('0x75')][_0x87edec['schema']]==null)_0x1eba12[a0_0x1191('0x75')][_0x87edec[a0_0x1191('0x7a')]]={};_0x1eba12[a0_0x1191('0x75')][_0x87edec[a0_0x1191('0x7a')]][_0x4f09fa[a0_0x1191('0x3d')]]=_0x4f09fa;return{'node':_0x87edec,'distance':_0x47ff06};};var predDistributionO=(_0xc8d3e6,_0xeef1b1,_0x590aea,_0x4abf93,_0x29aaad,_0x2c3013)=>{const _0xac701a=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x7b'));if(_0x29aaad)return{'distance':_0xac701a};if(_0xc8d3e6['payload']['pred']['is_categorical']||_0xc8d3e6[a0_0x1191('0x70')]['pred'][a0_0x1191('0x98')]==='number'){const _0x8945e=new WordSegmentationNode();_0x8945e[a0_0x1191('0x6')]=a0_0x1191('0x10a');_0x8945e[a0_0x1191('0x7a')]=_0xc8d3e6[a0_0x1191('0x7a')];const _0x4549d3={'name':_0xc8d3e6['payload']['pred'][a0_0x1191('0x3d')]+'分布','calc':{'operator':'$distribution','pred':_0xc8d3e6[a0_0x1191('0x70')][a0_0x1191('0xef')]}};_0x8945e[a0_0x1191('0x70')]={'val':{'pred':_0x4549d3}};if(_0xc8d3e6[a0_0x1191('0x70')][a0_0x1191('0xed')])_0x8945e[a0_0x1191('0x70')]['filter']=_0xc8d3e6[a0_0x1191('0x70')][a0_0x1191('0xed')];if(_0x2c3013['calc'][_0x8945e[a0_0x1191('0x7a')]]==null)_0x2c3013[a0_0x1191('0x75')][_0x8945e['schema']]={};_0x2c3013[a0_0x1191('0x75')][_0x8945e['schema']][_0x4549d3[a0_0x1191('0x3d')]]=_0x4549d3;return{'node':_0x8945e,'distance':_0xac701a};}return null;};var valQuantifierO=(_0xc99175,_0x2cbabe,_0x510bac,_0x4f7019,_0x5c3515)=>{if(_0xc99175[a0_0x1191('0x70')][a0_0x1191('0x3f')]===_0x2cbabe[a0_0x1191('0x70')]['primal_type']){const _0x2fd24a=WordSegmentationNode['getDistance'](a0_0x1191('0x10b'));if(_0x5c3515)return{'distance':_0x2fd24a};const _0x2c5b90=new WordSegmentationNode();_0x2c5b90[a0_0x1191('0x6')]=a0_0x1191('0xed');_0x2c5b90['schema']=_0x2cbabe[a0_0x1191('0x7a')];_0x2c5b90[a0_0x1191('0x70')]={'query':{[_0x2cbabe[a0_0x1191('0x70')][a0_0x1191('0x3d')]]:_0xc99175['payload'][a0_0x1191('0x10a')]}};return{'node':_0x2c5b90,'distance':_0x2fd24a};}return null;};var howmuchQuantifierO=(_0x36b220,_0x4e72ea,_0x5eccf5,_0x4cc307,_0x262801)=>{const _0x7c70af=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xf'));if(_0x262801)return{'distance':_0x7c70af};const _0x3435f5=new WordSegmentationNode();_0x3435f5[a0_0x1191('0x6')]=a0_0x1191('0xef');_0x3435f5[a0_0x1191('0x7a')]=_0x4e72ea[a0_0x1191('0x7a')];_0x3435f5[a0_0x1191('0x70')]={'pred':_0x4e72ea[a0_0x1191('0x70')]};return{'node':_0x3435f5,'distance':_0x7c70af};};var filterPred=(_0x25182d,_0x528ca6,_0x4975c3,_0x4907b9,_0x53e9dd,_0x5e9db8)=>{if(_0x25182d[a0_0x1191('0x70')]){if(_0x528ca6[a0_0x1191('0x7a')]===_0x25182d[a0_0x1191('0x7a')]&&_0x25182d[a0_0x1191('0x41')]&&WordSegmentationNode[a0_0x1191('0xbb')](_0x25182d['payload'])&&_0x4975c3){const _0x17ae1f=WordSegmentationNode['getDistance'](a0_0x1191('0xb5'));if(_0x53e9dd)return{'distance':_0x17ae1f};return{'node':_0x528ca6,'distance':_0x17ae1f};}if(_0x528ca6[a0_0x1191('0x70')]['pred'][a0_0x1191('0x22')]==null&&_0x528ca6[a0_0x1191('0x7a')]===_0x25182d['schema']){if(_0x528ca6['payload'][a0_0x1191('0xef')][a0_0x1191('0x3d')]in _0x25182d['payload']['query']){const _0x315299=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x32'));return{'node':_0x25182d,'distance':_0x315299};}if(_0x528ca6['payload']['pred'][a0_0x1191('0x75')]==null&&_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0xf2')]){const _0x1c990b=Object['keys'](_0x25182d['payload'][a0_0x1191('0xae')]);if(_0x1c990b[a0_0x1191('0x4e')]===0x1){const _0x263c41=_0x4907b9[_0x25182d[a0_0x1191('0x7a')]]['properties'][a0_0x1191('0x96')](_0x29c323=>_0x29c323[a0_0x1191('0x3d')]===_0x1c990b[0x0]);if(_0x263c41[a0_0x1191('0xcf')]===_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x3d')]){const _0x247e9c=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x32'));return{'node':_0x25182d,'distance':_0x247e9c};}}}const _0x2510b9=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xd5'));if(_0x53e9dd)return{'distance':_0x2510b9};const _0x2b9f72=_0x528ca6[a0_0x1191('0x110')]();const _0x4f788c=!_0x2b9f72[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0xf4')];if(_0x4f788c){let _0x2404e8=WordSegmentationNode['combineFilterPayloads'](_0x2b9f72[a0_0x1191('0x70')][a0_0x1191('0xed')],_0x25182d[a0_0x1191('0x70')]);if(!WordSegmentationNode['isFilterPayloadEmpty'](_0x2404e8)){if(_0x528ca6[a0_0x1191('0x70')]['pred'][a0_0x1191('0x75')]){if(_0x528ca6[a0_0x1191('0x70')]['pred'][a0_0x1191('0x75')][a0_0x1191('0xed')]){_0x2404e8=WordSegmentationNode[a0_0x1191('0xcd')](_0x2404e8,_0x528ca6[a0_0x1191('0x70')]['pred'][a0_0x1191('0x75')][a0_0x1191('0xed')]);}_0x528ca6['payload'][a0_0x1191('0xef')][a0_0x1191('0x75')]['filter']=_0x2404e8;const _0x32c9fe=WordSegmentationNode[a0_0x1191('0x100')](_0x25182d['payload'],_0x4907b9[_0x25182d[a0_0x1191('0x7a')]]);const _0x2aaec1=''+_0x32c9fe+_0x2b9f72['payload'][a0_0x1191('0xef')][a0_0x1191('0x3d')];delete _0x5e9db8[a0_0x1191('0x75')][_0x2b9f72[a0_0x1191('0x7a')]][_0x2b9f72[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x3d')]];_0x5e9db8[a0_0x1191('0x75')][_0x2b9f72['schema']][_0x2aaec1]=_0x2b9f72['payload'][a0_0x1191('0xef')];_0x2b9f72['payload'][a0_0x1191('0xef')][a0_0x1191('0x3d')]=_0x2aaec1;}else{_0x2b9f72[a0_0x1191('0x70')][a0_0x1191('0xed')]=_0x2404e8;}}return{'node':_0x2b9f72,'distance':_0x2510b9};}}if(_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x22')]===_0x25182d[a0_0x1191('0x7a')]&&_0x4907b9[_0x528ca6[a0_0x1191('0x7a')]]['type']===a0_0x1191('0x20')){const _0x5f32e0=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x109'));if(_0x53e9dd)return{'distance':_0x5f32e0};const _0x202d3e=_0x528ca6['deepclone']();const _0x4cc219=WordSegmentationNode[a0_0x1191('0xcd')](_0x202d3e[a0_0x1191('0x70')][a0_0x1191('0xed')],_0x25182d[a0_0x1191('0x70')]);if(!WordSegmentationNode[a0_0x1191('0xbb')](_0x4cc219)){_0x202d3e[a0_0x1191('0x70')][a0_0x1191('0xed')]=_0x4cc219;}return{'node':_0x202d3e,'distance':_0x5f32e0};}if(_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x22')]===_0x25182d[a0_0x1191('0x7a')]&&_0x4907b9[_0x528ca6[a0_0x1191('0x7a')]][a0_0x1191('0x3f')]===a0_0x1191('0xcf')&&_0x4907b9[_0x25182d[a0_0x1191('0x7a')]][a0_0x1191('0x3f')]==='entity'){const _0x21f8c6=_0x4907b9[_0x528ca6[a0_0x1191('0x7a')]][a0_0x1191('0x10d')][a0_0x1191('0xed')](_0x16686b=>_0x16686b[a0_0x1191('0x22')]===_0x25182d[a0_0x1191('0x7a')]);if(_0x21f8c6[a0_0x1191('0x4e')]===0x1){const _0x12a807=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x8'));if(_0x53e9dd)return{'distance':_0x12a807};const _0xfb76e6=_0x528ca6['deepclone']();const _0x40c337=_0x25182d['toEventFilterNode'](_0x528ca6['schema'],_0x21f8c6[0x0]);const _0x471e11=WordSegmentationNode[a0_0x1191('0xcd')](_0xfb76e6[a0_0x1191('0x70')]['filter'],_0x40c337['payload']);if(!WordSegmentationNode[a0_0x1191('0xbb')](_0x471e11)){_0xfb76e6[a0_0x1191('0x70')][a0_0x1191('0xed')]=_0x471e11;}return{'node':_0xfb76e6,'distance':_0x12a807};}}if(_0x4907b9[_0x528ca6[a0_0x1191('0x7a')]][a0_0x1191('0x3f')]===a0_0x1191('0xcf')&&_0x528ca6[a0_0x1191('0x7a')]===_0x25182d['schema']&&_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x22')]&&_0x528ca6['payload'][a0_0x1191('0xef')]['ref']!==_0x25182d[a0_0x1191('0x7a')]){const _0x52133c=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xd9'));if(_0x53e9dd)return{'distance':_0x52133c};const _0x599720=new WordSegmentationNode();_0x599720['tag']='group';_0x599720['schema']=_0x528ca6[a0_0x1191('0x7a')];_0x599720[a0_0x1191('0x70')]={'_id':_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')]['name']};const _0x1a7243=WordSegmentationNode['combineFilterPayloads'](_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xed')],_0x25182d[a0_0x1191('0x70')]);if(!WordSegmentationNode[a0_0x1191('0xbb')](_0x1a7243)){_0x599720[a0_0x1191('0x70')][a0_0x1191('0xed')]=_0x1a7243;}return{'node':_0x599720,'distance':_0x52133c};}}if(_0x25182d['slot']&&_0x25182d[a0_0x1191('0xa')]['pred']===undefined&&(_0x25182d[a0_0x1191('0xa')]['val']!==undefined||_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x98')]===a0_0x1191('0xbf'))&&(_0x25182d[a0_0x1191('0x7a')]==null||_0x25182d[a0_0x1191('0x7a')]===_0x528ca6[a0_0x1191('0x7a')])&&_0x25182d['isTypeOk'](_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x98')])){const _0x1d3a4d=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xf5'));if(_0x53e9dd)return{'distance':_0x1d3a4d};const _0x18297f=_0x25182d[a0_0x1191('0x110')]();_0x18297f[a0_0x1191('0x7a')]=_0x528ca6[a0_0x1191('0x7a')];_0x18297f[a0_0x1191('0xa')]['pred']=_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')];if(_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xed')])throw new Error(a0_0x1191('0xbd'));_0x18297f[a0_0x1191('0x6c')]();return{'node':_0x18297f,'distance':_0x1d3a4d};}if(_0x25182d[a0_0x1191('0xa')]&&_0x25182d['slot']['pred']===undefined&&_0x25182d['slot'][a0_0x1191('0x10a')]===undefined&&_0x25182d[a0_0x1191('0x8f')](_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x98')])&&_0x25182d['isPositionOk'](_0x4975c3)&&_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')]['calc']){const _0x2b0d65=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x121'));if(_0x53e9dd)return{'distance':_0x2b0d65};const _0x50fbc1=_0x25182d[a0_0x1191('0x110')]();_0x50fbc1[a0_0x1191('0x7a')]=_0x528ca6['schema'];_0x50fbc1[a0_0x1191('0xa')]['val']={'pred':_0x528ca6[a0_0x1191('0x70')]['pred']};_0x50fbc1[a0_0x1191('0xa')]['val_type']=_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x98')];if(_0x528ca6[a0_0x1191('0x70')][a0_0x1191('0xed')])throw new Error(a0_0x1191('0xbd'));return{'node':_0x50fbc1,'distance':_0x2b0d65};}return null;};var filterVal=(_0x358f9c,_0x332c21,_0x19d815,_0x519c6a,_0x5d617)=>{if(_0x358f9c[a0_0x1191('0xa')]&&_0x358f9c[a0_0x1191('0xa')][a0_0x1191('0x10a')]===undefined&&_0x358f9c['slot'][a0_0x1191('0xef')]===undefined&&_0x358f9c['isTypeOk'](_0x332c21[a0_0x1191('0x70')]['type'])&&_0x358f9c[a0_0x1191('0x27')](_0x19d815)){const _0x5a25ab=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x94'));if(_0x5d617)return{'distance':_0x5a25ab};const _0x2f14a3=_0x358f9c[a0_0x1191('0x110')]();_0x2f14a3[a0_0x1191('0xa')][a0_0x1191('0x10a')]=_0x332c21[a0_0x1191('0x70')][a0_0x1191('0x10a')];_0x2f14a3[a0_0x1191('0xa')][a0_0x1191('0x25')]=_0x332c21[a0_0x1191('0x70')][a0_0x1191('0x3f')];if(!_0x19d815&&_0x358f9c[a0_0x1191('0xa')]['compare'][a0_0x1191('0x61')]==='*'){const _0x5937e5=_0x358f9c[a0_0x1191('0xa')][a0_0x1191('0x11a')][a0_0x1191('0x127')];if(_0x5937e5[a0_0x1191('0xc6')](a0_0x1191('0x91'))){_0x2f14a3[a0_0x1191('0xa')][a0_0x1191('0x11a')][a0_0x1191('0x127')]=_0x5937e5[a0_0x1191('0x6d')](0x0,0x1)+'l'+_0x5937e5['substring'](0x2);}else if(_0x5937e5[a0_0x1191('0xc6')]('$lt')){_0x2f14a3[a0_0x1191('0xa')][a0_0x1191('0x11a')][a0_0x1191('0x127')]=_0x5937e5[a0_0x1191('0x6d')](0x0,0x1)+'g'+_0x5937e5['substring'](0x2);}}if(_0x332c21[a0_0x1191('0x70')][a0_0x1191('0xed')])throw new Error('[f-v]valNode这么复杂？看看');_0x2f14a3['resolve']();return{'node':_0x2f14a3,'distance':_0x5a25ab};}if(_0x358f9c[a0_0x1191('0x70')]&&_0x358f9c['payload'][a0_0x1191('0x17')]&&Object[a0_0x1191('0xb')](_0x358f9c[a0_0x1191('0x70')][a0_0x1191('0x17')])['length']===0x1&&_0x358f9c[a0_0x1191('0x70')][a0_0x1191('0xee')]===0x1&&typeof _0x332c21[a0_0x1191('0x70')][a0_0x1191('0x10a')]===a0_0x1191('0x45')){const _0x39b075=WordSegmentationNode['getDistance'](a0_0x1191('0x10e'));if(_0x5d617)return{'distance':_0x39b075};const _0xec90b8=_0x358f9c[a0_0x1191('0x110')]();_0xec90b8['payload']['total']=_0x332c21[a0_0x1191('0x70')][a0_0x1191('0x10a')];return{'node':_0xec90b8,'distance':_0x39b075};}return null;};var filterFilter=(_0x9607ff,_0xece3ba,_0x4f9bd2,_0x44da3b,_0x5be99e)=>{if(_0x9607ff['schema']===_0xece3ba[a0_0x1191('0x7a')]&&_0x9607ff[a0_0x1191('0x70')]!=null&&_0xece3ba[a0_0x1191('0x70')]!=null){const _0x19f638=WordSegmentationNode[a0_0x1191('0x24')]('FILTER+FILTER+SAME');if(_0x5be99e)return{'distance':_0x19f638};const _0x327a71=_0x9607ff[a0_0x1191('0x38')](_0xece3ba[a0_0x1191('0x70')]);if(_0x9607ff[a0_0x1191('0x41')]||_0xece3ba[a0_0x1191('0x41')])_0x327a71[a0_0x1191('0x41')]=!![];return{'node':_0x327a71,'distance':_0x19f638};}if(_0x9607ff[a0_0x1191('0xa')]&&_0x9607ff[a0_0x1191('0xa')][a0_0x1191('0x11a')]['operator']===a0_0x1191('0xe5')&&_0xece3ba[a0_0x1191('0x70')]&&Object[a0_0x1191('0x53')](_0xece3ba[a0_0x1191('0x70')][a0_0x1191('0xae')])[a0_0x1191('0x4e')]===0x1){const _0x16e524=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x68'));if(_0x5be99e)return{'distance':_0x16e524};const _0x1cd1ce=_0xece3ba[a0_0x1191('0x110')]();const [_0x45d59c,_0x5a979d]=Object['entries'](_0xece3ba[a0_0x1191('0x70')][a0_0x1191('0xae')])[0x0];_0x1cd1ce[a0_0x1191('0x70')]['query'][_0x45d59c]={[_0x9607ff[a0_0x1191('0xa')]['compare'][a0_0x1191('0x127')]]:_0x5a979d};return{'node':_0x1cd1ce,'distance':_0x16e524};}if(_0x9607ff[a0_0x1191('0xa')]&&_0x9607ff[a0_0x1191('0xa')][a0_0x1191('0x11a')][a0_0x1191('0x127')]==='$eq'&&_0xece3ba[a0_0x1191('0x70')]&&Object[a0_0x1191('0x53')](_0xece3ba[a0_0x1191('0x70')]['query'])[a0_0x1191('0x4e')]===0x1){const _0x5ddc7e=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x68'));if(_0x5be99e)return{'distance':_0x5ddc7e};const _0xecf774=_0xece3ba[a0_0x1191('0x110')]();const [_0xe07eb,_0x4f3d91]=Object[a0_0x1191('0x57')](_0xece3ba[a0_0x1191('0x70')][a0_0x1191('0xae')])[0x0];_0xecf774[a0_0x1191('0x70')][a0_0x1191('0xae')][_0xe07eb]=_0x4f3d91;return{'node':_0xecf774,'distance':_0x5ddc7e};}let _0x13b4c6;let _0x114995;if(_0x9607ff[a0_0x1191('0x70')]&&_0xece3ba[a0_0x1191('0xa')]&&_0xece3ba[a0_0x1191('0xa')][a0_0x1191('0xef')]===undefined&&_0xece3ba[a0_0x1191('0xa')]['val']===undefined&&_0xece3ba[a0_0x1191('0x27')](![])){_0x13b4c6=_0x9607ff;_0x114995=_0xece3ba;}else if(_0xece3ba[a0_0x1191('0x70')]&&_0x9607ff[a0_0x1191('0xa')]&&_0x9607ff[a0_0x1191('0xa')][a0_0x1191('0xef')]===undefined&&_0x9607ff[a0_0x1191('0xa')][a0_0x1191('0x10a')]===undefined&&_0x9607ff[a0_0x1191('0x27')](!![])){_0x13b4c6=_0xece3ba;_0x114995=_0x9607ff;}if(_0x13b4c6&&_0x114995){if(Object[a0_0x1191('0x53')](_0x13b4c6['payload'][a0_0x1191('0xae')])[a0_0x1191('0x4e')]===0x1){let _0x2ad2e3=![];if(_0x114995[a0_0x1191('0xa')][a0_0x1191('0x127')]==='$ne'||_0x114995['slot'][a0_0x1191('0x127')]===a0_0x1191('0x93')){_0x2ad2e3=!![];}else{const _0x13c65c=Object[a0_0x1191('0x53')](_0x13b4c6['payload'][a0_0x1191('0xae')])[0x0];const _0x2bebd9=_0x44da3b[_0x13b4c6['schema']][a0_0x1191('0x10d')]['find'](_0x4cd9f7=>_0x4cd9f7[a0_0x1191('0x3d')]===_0x13c65c);if(_0x2bebd9[a0_0x1191('0x77')]||_0x2bebd9['primal_type']===a0_0x1191('0x45')||_0x2bebd9[a0_0x1191('0x98')]===a0_0x1191('0x10')){_0x2ad2e3=!![];}}if(_0x2ad2e3){const [_0x52789a,_0x519278]=Object['entries'](_0x13b4c6[a0_0x1191('0x70')][a0_0x1191('0xae')])[0x0];if(_0x114995[a0_0x1191('0x8f')](typeof _0x519278)){const _0x56a431=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x68'));if(_0x5be99e)return{'distance':_0x56a431};const _0x4b7b7f=_0x13b4c6[a0_0x1191('0x110')]();_0x4b7b7f[a0_0x1191('0x70')][a0_0x1191('0xae')][_0x52789a]={[_0x114995['slot']['compare'][a0_0x1191('0x127')]]:_0x519278};return{'node':_0x4b7b7f,'distance':_0x56a431};}}}}let _0x62eb6b;let _0x3e5a38;if(_0x9607ff[a0_0x1191('0xa')]&&!_0xece3ba[a0_0x1191('0xa')])_0x62eb6b=_0x9607ff;if(_0xece3ba[a0_0x1191('0xa')]&&!_0x9607ff[a0_0x1191('0xa')])_0x62eb6b=_0xece3ba;if(_0x9607ff['payload']&&!_0xece3ba[a0_0x1191('0x70')])_0x3e5a38=_0x9607ff;if(_0xece3ba[a0_0x1191('0x70')]&&!_0x9607ff[a0_0x1191('0x70')])_0x3e5a38=_0xece3ba;if(_0x62eb6b&&_0x3e5a38&&_0x62eb6b[a0_0x1191('0xa')][a0_0x1191('0x10a')]!==undefined&&Object[a0_0x1191('0x53')](_0x3e5a38[a0_0x1191('0x70')][a0_0x1191('0xae')])['length']===0x1){const _0x8871e4=Object[a0_0x1191('0x53')](_0x3e5a38[a0_0x1191('0x70')][a0_0x1191('0xae')])[0x0];const _0x36a15f=_0x44da3b[_0x3e5a38[a0_0x1191('0x7a')]][a0_0x1191('0x10d')][a0_0x1191('0x96')](_0x359170=>_0x359170[a0_0x1191('0x3d')]===_0x8871e4);if(_0x62eb6b['slot'][a0_0x1191('0x11a')]['acceptTypes'][a0_0x1191('0xe6')](_0x36a15f[a0_0x1191('0x98')])>=0x0){const _0x3394d1=WordSegmentationNode[a0_0x1191('0x24')]('FILTER+COMPAREVAL');if(_0x5be99e)return{'distance':_0x3394d1};const _0x2b6b5a={'query':{[_0x8871e4]:{[_0x62eb6b[a0_0x1191('0xa')]['compare'][a0_0x1191('0x127')]]:_0x62eb6b[a0_0x1191('0xa')][a0_0x1191('0x10a')]}}};const _0x1baadb=_0x3e5a38[a0_0x1191('0x38')](_0x2b6b5a);return{'node':_0x1baadb,'distance':_0x3394d1};}}return null;};var filterMaxmin=(_0x58e89,_0x3670f9,_0xb11bb8,_0x491b6b,_0x4cd904,_0x7bb609)=>{if(_0x58e89[a0_0x1191('0x70')]&&_0x58e89[a0_0x1191('0x70')][a0_0x1191('0x17')]&&Object[a0_0x1191('0xb')](_0x58e89['payload']['sort'])['length']===0x1&&_0x3670f9['slot']&&_0x3670f9[a0_0x1191('0xa')]['val']&&(_0x3670f9[a0_0x1191('0xa')][a0_0x1191('0x127')]===a0_0x1191('0xac')&&Object['values'](_0x58e89['payload'][a0_0x1191('0x17')])[0x0]===-0x1||_0x3670f9[a0_0x1191('0xa')][a0_0x1191('0x127')]===a0_0x1191('0xcb')&&Object['values'](_0x58e89['payload'][a0_0x1191('0x17')])[0x0]===0x1)){const _0x280c0f=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x7c'));if(_0x4cd904)return{'distance':_0x280c0f};const _0xc6efe=_0x58e89[a0_0x1191('0x110')]();_0xc6efe[a0_0x1191('0x70')][a0_0x1191('0xee')]=_0x3670f9[a0_0x1191('0xa')]['val'];return{'node':_0xc6efe,'distance':_0x280c0f};}if(_0x58e89[a0_0x1191('0x70')]&&_0x491b6b[_0x58e89[a0_0x1191('0x7a')]]['type']===a0_0x1191('0xcf')&&_0x58e89[a0_0x1191('0x70')][a0_0x1191('0xae')]&&Object['keys'](_0x58e89['payload']['query'])[a0_0x1191('0x4e')]>0x0&&_0x3670f9[a0_0x1191('0xa')]){const _0x438205=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x30'));if(_0x4cd904)return{'distance':_0x438205};const _0x5721ab=new WordSegmentationNode();_0x5721ab['tag']=a0_0x1191('0xed');_0x5721ab['schema']=_0x58e89[a0_0x1191('0x7a')];const _0x5c7a27={'name':WordSegmentationNode['filterPayloadToName'](_0x58e89[a0_0x1191('0x70')],_0x491b6b[_0x58e89['schema']])+'数量','primal_type':a0_0x1191('0x45'),'calc':{'operator':a0_0x1191('0x6f'),'filter':_0x58e89['payload']}};const _0x3a614e=_0x3670f9[a0_0x1191('0xa')][a0_0x1191('0x10a')]!=undefined?_0x3670f9[a0_0x1191('0xa')]['val']:0x1;const _0x584fc8=_0x3670f9[a0_0x1191('0xa')][a0_0x1191('0x127')]===a0_0x1191('0xcb')?0x1:-0x1;_0x5721ab[a0_0x1191('0x70')]={'query':{},'total':_0x3a614e,'sort':{[_0x5c7a27[a0_0x1191('0x3d')]]:_0x584fc8}};if(_0x7bb609[a0_0x1191('0x75')][_0x58e89[a0_0x1191('0x7a')]]==null)_0x7bb609[a0_0x1191('0x75')][_0x58e89[a0_0x1191('0x7a')]]={};_0x7bb609[a0_0x1191('0x75')][_0x58e89[a0_0x1191('0x7a')]][_0x5c7a27[a0_0x1191('0x3d')]]=_0x5c7a27;return{'node':_0x5721ab,'distance':_0x438205};}return null;};var filterTruthOrNot=(_0x12ded5,_0x4e2227,_0x4d4854,_0xf65f8d,_0x2f0660)=>{if(_0x12ded5[a0_0x1191('0x70')]&&_0x12ded5['payload'][a0_0x1191('0xae')]&&Object[a0_0x1191('0x53')](_0x12ded5['payload'][a0_0x1191('0xae')])[a0_0x1191('0x4e')]===0x1&&!_0x4d4854){const _0x3ef5ec=_0xf65f8d[_0x12ded5[a0_0x1191('0x7a')]][a0_0x1191('0x10d')]['find'](_0x42a7f4=>_0x42a7f4['name']===Object[a0_0x1191('0x53')](_0x12ded5['payload'][a0_0x1191('0xae')])[0x0]);if(_0x3ef5ec&&_0x3ef5ec[a0_0x1191('0x98')]===a0_0x1191('0xbf')){const _0x31fa06=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x11'));if(_0x2f0660)return{'distance':_0x31fa06};const _0x9dc428=new WordSegmentationNode();_0x9dc428[a0_0x1191('0x6')]=a0_0x1191('0xef');_0x9dc428[a0_0x1191('0x7a')]=_0x12ded5[a0_0x1191('0x7a')];_0x9dc428['payload']={'pred':_0x3ef5ec};return{'node':_0x9dc428,'distance':_0x31fa06};}}return null;};var groupGroup=(_0x51c9e7,_0x459537,_0xb60fcd,_0x42c482,_0x214b02)=>{if(_0x51c9e7[a0_0x1191('0x70')]&&_0x459537[a0_0x1191('0x70')]&&_0x51c9e7['schema']===_0x459537[a0_0x1191('0x7a')]){const _0x1cd0c3=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x117'));if(_0x214b02)return{'distance':_0x1cd0c3};const _0x237305=new WordSegmentationNode();_0x237305[a0_0x1191('0x6')]=a0_0x1191('0x84');_0x237305['schema']=_0x51c9e7[a0_0x1191('0x7a')];_0x237305[a0_0x1191('0x70')]={'_id':null,'preds':[]};if(_0x51c9e7['payload'][a0_0x1191('0xfc')]&&_0x459537[a0_0x1191('0x70')][a0_0x1191('0xfc')]&&_0x51c9e7[a0_0x1191('0x70')][a0_0x1191('0xfc')]!==_0x459537[a0_0x1191('0x70')][a0_0x1191('0xfc')]){const _0x144d7b=_0x51c9e7[a0_0x1191('0x70')]['_id']['length']>_0x459537[a0_0x1191('0x70')][a0_0x1191('0xfc')]['length']?_0x51c9e7['payload'][a0_0x1191('0xfc')]:_0x459537[a0_0x1191('0x70')]['_id'];const _0x591595=_0x51c9e7[a0_0x1191('0x70')][a0_0x1191('0xfc')][a0_0x1191('0x4e')]<=_0x459537[a0_0x1191('0x70')][a0_0x1191('0xfc')][a0_0x1191('0x4e')]?_0x51c9e7[a0_0x1191('0x70')][a0_0x1191('0xfc')]:_0x459537[a0_0x1191('0x70')][a0_0x1191('0xfc')];if(_0x144d7b[a0_0x1191('0xe6')](_0x591595+'_')===0x0){_0x237305[a0_0x1191('0x70')]['_id']=_0x144d7b;}else{_0x237305[a0_0x1191('0x70')][a0_0x1191('0xfc')]=_0x459537['payload'][a0_0x1191('0xfc')];}}else{if(_0x51c9e7['payload'][a0_0x1191('0xfc')])_0x237305[a0_0x1191('0x70')][a0_0x1191('0xfc')]=_0x51c9e7[a0_0x1191('0x70')][a0_0x1191('0xfc')];if(_0x459537[a0_0x1191('0x70')][a0_0x1191('0xfc')])_0x237305[a0_0x1191('0x70')][a0_0x1191('0xfc')]=_0x459537[a0_0x1191('0x70')]['_id'];}const _0x173be6=WordSegmentationNode[a0_0x1191('0xcd')](_0x51c9e7['payload'][a0_0x1191('0xed')],_0x459537[a0_0x1191('0x70')][a0_0x1191('0xed')]);if(_0x173be6&&!WordSegmentationNode[a0_0x1191('0xbb')](_0x173be6)){_0x237305[a0_0x1191('0x70')][a0_0x1191('0xed')]=_0x173be6;}if(_0x51c9e7[a0_0x1191('0x70')][a0_0x1191('0x83')]&&_0x51c9e7['payload'][a0_0x1191('0x83')]['length']>0x0){_0x237305[a0_0x1191('0x70')]['preds']=[..._0x51c9e7[a0_0x1191('0x70')][a0_0x1191('0x83')]];}if(_0x459537['payload'][a0_0x1191('0x83')]&&_0x459537[a0_0x1191('0x70')][a0_0x1191('0x83')][a0_0x1191('0x4e')]>0x0){_0x237305[a0_0x1191('0x70')][a0_0x1191('0x83')]=[..._0x237305[a0_0x1191('0x70')][a0_0x1191('0x83')],..._0x459537[a0_0x1191('0x70')][a0_0x1191('0x83')]];}if(_0x237305['payload'][a0_0x1191('0x83')][a0_0x1191('0x4e')]===0x0){delete _0x237305[a0_0x1191('0x70')]['preds'];}return{'node':_0x237305,'distance':_0x1cd0c3};}if(_0xb60fcd&&_0x51c9e7['slot']&&_0x459537[a0_0x1191('0x70')]){return{'node':_0x459537,'distance':0x0};}return null;};var maxminVal=(_0x4437bd,_0x5d4b4a,_0x499deb,_0x56ddc1,_0x5dde54)=>{if(_0x5d4b4a[a0_0x1191('0x70')]['type']==='number'&&_0x4437bd[a0_0x1191('0xa')]&&_0x4437bd[a0_0x1191('0xa')]['val']==null){if(_0x5d4b4a[a0_0x1191('0x70')][a0_0x1191('0xed')])throw new Error('[maxmin-val]val的filter有东西，看看');const _0x56b946=WordSegmentationNode['getDistance']('$MAXMIN+VAL');if(_0x5dde54)return{'distance':_0x56b946};const _0xe5bad9=_0x4437bd['deepclone']();_0xe5bad9[a0_0x1191('0xa')][a0_0x1191('0x10a')]=_0x5d4b4a[a0_0x1191('0x70')]['val'];return{'node':_0xe5bad9,'distance':_0x56b946};}return null;};var maxminPred=(_0x5201d5,_0x1f6f9c,_0x23ea52,_0x1721fc,_0x3ef819,_0x4b86e5)=>{if(_0x5201d5[a0_0x1191('0xa')]&&(_0x1f6f9c[a0_0x1191('0x70')]['pred'][a0_0x1191('0x77')]||_0x1f6f9c[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x98')]==='number'||_0x1f6f9c[a0_0x1191('0x70')][a0_0x1191('0xef')]['primal_type']===a0_0x1191('0x10'))){const _0x1421ec=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x8a'));if(_0x3ef819)return{'distance':_0x1421ec};const _0x54cdeb=_0x5201d5[a0_0x1191('0x110')]();_0x54cdeb['slot'][a0_0x1191('0xef')]=_0x1f6f9c[a0_0x1191('0x70')]['pred'];_0x54cdeb[a0_0x1191('0xa')][a0_0x1191('0x63')]=_0x23ea52;_0x54cdeb[a0_0x1191('0x7a')]=_0x1f6f9c[a0_0x1191('0x7a')];if(_0x1f6f9c[a0_0x1191('0x70')][a0_0x1191('0xed')])_0x54cdeb[a0_0x1191('0xa')][a0_0x1191('0xed')]=_0x1f6f9c[a0_0x1191('0x70')][a0_0x1191('0xed')];if(_0x54cdeb['slot']['val']===undefined){_0x54cdeb[a0_0x1191('0xa')]['val']=0x1;}_0x54cdeb[a0_0x1191('0x6c')]();if(_0x54cdeb[a0_0x1191('0x6')]==='pred'){if(_0x4b86e5[a0_0x1191('0x75')][_0x54cdeb[a0_0x1191('0x7a')]]==null)_0x4b86e5[a0_0x1191('0x75')][_0x54cdeb[a0_0x1191('0x7a')]]={};_0x4b86e5['calc'][_0x54cdeb[a0_0x1191('0x7a')]][_0x54cdeb[a0_0x1191('0x70')]['pred'][a0_0x1191('0x3d')]]=_0x54cdeb[a0_0x1191('0x70')][a0_0x1191('0xef')];}return{'node':_0x54cdeb,'distance':_0x1421ec};}return null;};var betweenVal=(_0x481c7a,_0x996919,_0x181791,_0x3b706e,_0x2078c5)=>{if(_0x481c7a[a0_0x1191('0xa')]&&(_0x481c7a[a0_0x1191('0xa')][a0_0x1191('0xad')]===undefined&&!_0x181791)||_0x481c7a[a0_0x1191('0xa')][a0_0x1191('0x86')]===undefined&&_0x181791){let _0x8f1008=!![];if(_0x481c7a[a0_0x1191('0xa')][a0_0x1191('0xad')]&&_0x481c7a[a0_0x1191('0xa')][a0_0x1191('0xad')][a0_0x1191('0x70')][a0_0x1191('0x3f')]!==_0x996919[a0_0x1191('0x70')][a0_0x1191('0x3f')])_0x8f1008=![];if(_0x481c7a[a0_0x1191('0xa')][a0_0x1191('0x86')]&&_0x481c7a['slot'][a0_0x1191('0x86')][a0_0x1191('0x70')]['type']!==_0x996919[a0_0x1191('0x70')]['type'])_0x8f1008=![];if(_0x481c7a[a0_0x1191('0xa')][a0_0x1191('0xad')]&&_0x481c7a['slot'][a0_0x1191('0xad')][a0_0x1191('0x70')][a0_0x1191('0x3f')]!==a0_0x1191('0x10'))_0x8f1008=![];if(_0x481c7a[a0_0x1191('0xa')][a0_0x1191('0x86')]&&_0x481c7a[a0_0x1191('0xa')]['rightVal'][a0_0x1191('0x70')][a0_0x1191('0x3f')]!==a0_0x1191('0x10'))_0x8f1008=![];if(_0x8f1008){const _0xbfa517=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xc2'));if(_0x2078c5)return{'distance':_0xbfa517};let _0xbde1f7=_0x481c7a[a0_0x1191('0x110')]();if(_0x181791)_0xbde1f7['slot']['rightVal']=_0x996919;else _0xbde1f7['slot'][a0_0x1191('0xad')]=_0x996919;if(_0xbde1f7['slot'][a0_0x1191('0xad')]&&_0xbde1f7[a0_0x1191('0xa')][a0_0x1191('0x86')]){const _0x5bea1f=_0xbde1f7['slot'][a0_0x1191('0x86')];_0xbde1f7=_0xbde1f7['slot']['leftVal']['deepclone']();_0xbde1f7[a0_0x1191('0x70')]['val']['$lte']=_0x5bea1f[a0_0x1191('0x70')][a0_0x1191('0x10a')][a0_0x1191('0x0')];}return{'node':_0xbde1f7,'distance':_0xbfa517};}}return null;};var calcPred=(_0x1bc832,_0x2983c7,_0x13d9b3,_0x1114b0,_0x4ab9eb,_0x194a1f)=>{if(_0x2983c7[a0_0x1191('0x70')][a0_0x1191('0xef')]['primal_type']==='number'){const _0x5348ee=WordSegmentationNode['getDistance'](a0_0x1191('0xbc'));if(_0x4ab9eb)return{'distance':_0x5348ee};const _0x3e3726=_0x2983c7[a0_0x1191('0x110')]();const _0x18224c={'name':''+WordSegmentationNode['operatorToName'](_0x1bc832[a0_0x1191('0xa')]['operator'])+_0x2983c7[a0_0x1191('0x70')][a0_0x1191('0xef')]['name'],'primal_type':'number','calc':{'operator':_0x1bc832[a0_0x1191('0xa')][a0_0x1191('0x127')],'pred':_0x2983c7[a0_0x1191('0x70')]['pred']}};if(_0x194a1f[a0_0x1191('0x75')][_0x3e3726[a0_0x1191('0x7a')]]==null)_0x194a1f[a0_0x1191('0x75')][_0x3e3726[a0_0x1191('0x7a')]]={};_0x194a1f[a0_0x1191('0x75')][_0x3e3726[a0_0x1191('0x7a')]][_0x18224c[a0_0x1191('0x3d')]]=_0x18224c;if(_0x2983c7['payload']['pred'][a0_0x1191('0x75')]&&_0x2983c7[a0_0x1191('0x70')]['pred'][a0_0x1191('0x75')][a0_0x1191('0x41')])_0x18224c['calc'][a0_0x1191('0x41')]=!![];if(_0x2983c7[a0_0x1191('0x70')]['filter'])_0x18224c[a0_0x1191('0x75')][a0_0x1191('0xed')]=_0x2983c7[a0_0x1191('0x70')][a0_0x1191('0xed')];_0x3e3726['payload']={'pred':_0x18224c};return{'node':_0x3e3726,'distance':_0x5348ee};}return null;};var calcGroup=(_0x49383a,_0xd6e54a,_0x5c1059,_0x14cf22,_0x47fc0a)=>{if(_0xd6e54a[a0_0x1191('0xa')]&&_0x49383a[a0_0x1191('0xa')]&&_0xd6e54a[a0_0x1191('0x27')](!_0x5c1059)){if(isTimeWindow(_0x49383a[a0_0x1191('0xa')][a0_0x1191('0x127')])){const _0x5be5e5=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x35'));if(_0x47fc0a)return{'distance':_0x5be5e5};const _0xfefc5=_0xd6e54a[a0_0x1191('0x110')]();_0xfefc5[a0_0x1191('0x70')]={'_id':_0x49383a['slot'][a0_0x1191('0x127')]};delete _0xfefc5[a0_0x1191('0xa')];return{'node':_0xfefc5,'distance':_0x5be5e5};}return null;}return null;};var countPred=(_0x29ebe8,_0xc7716b,_0xc3bbee,_0x4a47d3,_0x12024,_0x4e8a28)=>{if(_0xc7716b[a0_0x1191('0x70')][a0_0x1191('0xef')]['type']==='object'){const _0x43406b=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xe9'));if(_0x12024)return{'distance':_0x43406b};const _0x5daafd=_0xc7716b['deepclone']();const _0x54c186={'name':_0xc7716b['payload'][a0_0x1191('0xef')][a0_0x1191('0x3d')]+'数量','primal_type':a0_0x1191('0x45'),'calc':{'operator':a0_0x1191('0x6f'),'pred':_0xc7716b['payload'][a0_0x1191('0xef')]}};if(_0x4e8a28[a0_0x1191('0x75')][_0x5daafd[a0_0x1191('0x7a')]]==null)_0x4e8a28[a0_0x1191('0x75')][_0x5daafd[a0_0x1191('0x7a')]]={};_0x4e8a28['calc'][_0x5daafd[a0_0x1191('0x7a')]][_0x54c186['name']]=_0x54c186;if(_0xc7716b['payload'][a0_0x1191('0xed')])_0x54c186['calc']['filter']=_0xc7716b[a0_0x1191('0x70')][a0_0x1191('0xed')];_0x5daafd[a0_0x1191('0x70')]={'pred':_0x54c186};return{'node':_0x5daafd,'distance':_0x43406b};}return null;};var countFilter=(_0x41d229,_0x4415c2,_0x416475,_0x5e1533,_0x52fe19,_0x37f558)=>{if(_0x4415c2[a0_0x1191('0x70')]&&_0x4415c2[a0_0x1191('0x41')]){let _0x675750;if(_0x5e1533[_0x4415c2[a0_0x1191('0x7a')]][a0_0x1191('0x3f')]===a0_0x1191('0x20')){_0x675750=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x5'));}else{_0x675750=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x33'));}if(_0x52fe19)return{'distance':_0x675750};const _0x40d7b6=new WordSegmentationNode();_0x40d7b6['tag']=a0_0x1191('0xef');_0x40d7b6[a0_0x1191('0x7a')]=_0x4415c2[a0_0x1191('0x7a')];const _0x237951={'name':_0x5e1533[_0x4415c2[a0_0x1191('0x7a')]][a0_0x1191('0x3d')]+'数量','primal_type':a0_0x1191('0x45'),'calc':{'operator':a0_0x1191('0x6f'),'filter':_0x4415c2['payload'],'is_schema':!![]}};_0x40d7b6[a0_0x1191('0x70')]={'pred':_0x237951};if(_0x37f558[a0_0x1191('0x75')][_0x40d7b6[a0_0x1191('0x7a')]]==null)_0x37f558[a0_0x1191('0x75')][_0x40d7b6[a0_0x1191('0x7a')]]={};_0x37f558['calc'][_0x40d7b6[a0_0x1191('0x7a')]][_0x237951['name']]=_0x237951;return{'node':_0x40d7b6,'distance':_0x675750};}if(_0x4415c2['payload']&&_0x4415c2[a0_0x1191('0x70')][a0_0x1191('0xae')]&&Object[a0_0x1191('0x53')](_0x4415c2['payload'][a0_0x1191('0xae')])[a0_0x1191('0x4e')]>0x0){const _0x598dd9=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x30'));if(_0x52fe19)return{'distance':_0x598dd9};const _0x344866=new WordSegmentationNode();_0x344866[a0_0x1191('0x6')]=a0_0x1191('0xef');_0x344866[a0_0x1191('0x7a')]=_0x4415c2['schema'];const _0x1bdbe2={'name':WordSegmentationNode['filterPayloadToName'](_0x4415c2['payload'],_0x5e1533[_0x4415c2[a0_0x1191('0x7a')]])+'数量','primal_type':a0_0x1191('0x45'),'calc':{'operator':a0_0x1191('0x6f'),'filter':_0x4415c2[a0_0x1191('0x70')]}};_0x344866[a0_0x1191('0x70')]={'pred':_0x1bdbe2};if(_0x37f558['calc'][_0x4415c2[a0_0x1191('0x7a')]]==null)_0x37f558['calc'][_0x4415c2[a0_0x1191('0x7a')]]={};_0x37f558[a0_0x1191('0x75')][_0x4415c2[a0_0x1191('0x7a')]][_0x1bdbe2[a0_0x1191('0x3d')]]=_0x1bdbe2;return{'node':_0x344866,'distance':_0x598dd9};}return null;};const {Schema:Schema$2}=a0_0x159922;class WordSegmentationGraph{constructor(){this[a0_0x1191('0xd6')]=a0_0x4f25f0();this[a0_0x1191('0x40')]=a0_0x579bf0[a0_0x1191('0xa4')]('G');this[a0_0x1191('0x1')]={};this[a0_0x1191('0xc0')]={};this[a0_0x1191('0xf3')]={};}async[a0_0x1191('0x43')](_0x4576eb,_0x4cd0fb){if(!(_0x4576eb in this['nodes'])){this['graph']['addNode'](_0x4576eb);this[a0_0x1191('0xc0')][_0x4576eb]=await this['normaliseNode'](_0x4cd0fb);if(_0x4cd0fb&&_0x4cd0fb['n']){this['debugGraph'][a0_0x1191('0x43')](_0x4576eb,{'label':_0x4cd0fb['n']+'\x0a'+_0x4cd0fb['t']});}else{this[a0_0x1191('0x40')][a0_0x1191('0x43')](_0x4576eb);}}}['addEdge'](_0x16e079,_0x5d762a){this['graph'][a0_0x1191('0xf8')](_0x16e079,_0x5d762a);const _0x46df67=this[a0_0x1191('0x40')][a0_0x1191('0xf8')](_0x16e079,_0x5d762a);this[a0_0x1191('0x1')][_0x16e079+','+_0x5d762a]=_0x46df67;}[a0_0x1191('0xf7')](_0x33222c,_0x231c17,_0x3e7950){this[a0_0x1191('0xd6')][a0_0x1191('0xf7')](_0x33222c,_0x231c17,_0x3e7950);this['debugGraphEdges'][_0x33222c+','+_0x231c17][a0_0x1191('0x12d')](a0_0x1191('0xf1'),_0x3e7950);}[a0_0x1191('0x4')](){this[a0_0x1191('0x40')][a0_0x1191('0x11c')](a0_0x1191('0x1f'),'./intermediates/question2graph.png');}[a0_0x1191('0x26')](_0x17c014){const _0x5b122=a0_0x579bf0[a0_0x1191('0xa4')]('G');for(let _0x913f36=0x0;_0x913f36<_0x17c014['path'][a0_0x1191('0x4e')];_0x913f36++){const _0x21904a=_0x17c014['path'][_0x913f36];_0x5b122[a0_0x1191('0x43')](''+_0x913f36,{'label':_0x21904a[a0_0x1191('0x6')]});}for(let _0x19af1f=0x0;_0x19af1f<_0x17c014['distances'][a0_0x1191('0x4e')];_0x19af1f++){const _0x5c5f58=_0x17c014[a0_0x1191('0x74')][_0x19af1f];const _0x23b4b6=_0x5b122[a0_0x1191('0xf8')](''+_0x19af1f,''+(_0x19af1f+0x1));_0x23b4b6[a0_0x1191('0x12d')](a0_0x1191('0xf1'),_0x5c5f58);}_0x5b122[a0_0x1191('0x11c')](a0_0x1191('0x1f'),a0_0x1191('0x9e'));}[a0_0x1191('0x67')](_0x59bc3c){return this[a0_0x1191('0xc0')][_0x59bc3c];}[a0_0x1191('0x107')](){const _0x2745c1=_0xf9a613=>{if(_0xf9a613==='END')return[[a0_0x1191('0x2c')]];let _0x3770b1=[];for(const _0x1aeae8 of this[a0_0x1191('0xd6')][a0_0x1191('0xaa')](_0xf9a613)){const _0x4f20cb=_0x2745c1(_0x1aeae8);_0x3770b1=[..._0x3770b1,..._0x4f20cb];}return _0x3770b1['map'](_0x409b39=>[_0xf9a613,..._0x409b39]);};const _0x25bb2e=_0x2745c1(a0_0x1191('0x115'));return _0x25bb2e;}async[a0_0x1191('0xf9')](_0xc57cb7){const _0x150917={..._0xc57cb7};if(_0x150917[a0_0x1191('0x88')]!=null){_0x150917['n']=_0x150917[a0_0x1191('0x88')];delete _0x150917[a0_0x1191('0x88')];}if(_0x150917['t']===a0_0x1191('0x20')){_0x150917['field']=_0x150917['f'];_0x150917[a0_0x1191('0x3d')]=_0x150917['n'];delete _0x150917['f'];}if(_0x150917[a0_0x1191('0xe')]!=null){_0x150917['n']=_0x150917['value'];}if(_0x150917['distance']==null)_0x150917[a0_0x1191('0xba')]=0x0;if(_0x150917['t']===a0_0x1191('0x10a')&&_0x150917[a0_0x1191('0x3f')]==null){throw new Error(a0_0x1191('0x5d'));}const _0x4cd298=async(_0x7b1844,_0x1841f4)=>{const _0x4bcd26=_0x1841f4['s'];if(_0x4bcd26){if(_0x7b1844[_0x4bcd26]){return _0x7b1844[_0x4bcd26];}_0x7b1844[_0x4bcd26]=await Schema$2[a0_0x1191('0xe2')](_0x4bcd26);if(_0x7b1844[_0x4bcd26]==null)throw new Error('Cannot\x20find\x20schema,\x20wrong\x20schema\x20id:\x20'+_0x4bcd26);return _0x7b1844[_0x4bcd26];}return null;};const _0x146bee=await _0x4cd298(this['schemas'],_0x150917);if(_0x150917['t']===a0_0x1191('0xef')&&_0x150917[a0_0x1191('0xe8')]==null){const _0x1e9e78=_0x146bee[a0_0x1191('0x10d')][a0_0x1191('0x96')](_0x2a920a=>_0x2a920a[a0_0x1191('0x3d')]===_0x150917['n']);if(_0x1e9e78['type']==='object'){_0x150917[a0_0x1191('0xe8')]=_0x1e9e78[a0_0x1191('0x22')];}_0x150917[a0_0x1191('0xd')]=_0x1e9e78;}if(_0x150917['t']===a0_0x1191('0xed')||_0x150917['t']===a0_0x1191('0xd4')){_0x150917['property']=_0x146bee[a0_0x1191('0x10d')][a0_0x1191('0x96')](_0x2b9aa0=>_0x2b9aa0[a0_0x1191('0x3d')]===_0x150917['f']);}if(_0x150917['t']===a0_0x1191('0x20')||_0x150917['t']==='schema'){_0x150917['dist_s']=_0x150917['s'];}if(_0x150917['t']===a0_0x1191('0x9d')&&_0x150917['to']==='node'){_0x150917['t']=_0x150917[a0_0x1191('0x2d')]['t'];delete _0x150917[a0_0x1191('0x2d')];delete _0x150917['to'];}const _0x14f6ea=new WordSegmentationNode(_0x150917);return _0x14f6ea;}async['resolveGraph'](){const _0x5dd419=this[a0_0x1191('0x107')]();const _0x2f4561=async _0x5bbdd1=>{const _0x25e9bb=[];let _0x8bff44=0x0;let _0x33d134=Number[a0_0x1191('0xf6')];for(let _0x128604=0x1;_0x128604<_0x5bbdd1[a0_0x1191('0x4a')][a0_0x1191('0x4e')];_0x128604++){const _0x542304=_0x5bbdd1[a0_0x1191('0x4a')][_0x128604-0x1];const _0x59ec75=_0x5bbdd1[a0_0x1191('0x4a')][_0x128604];const _0x3030ea=await this['distanceBewteenTwoNodes'](_0x542304,_0x59ec75);_0x25e9bb[a0_0x1191('0x10f')](_0x3030ea);_0x8bff44+=_0x3030ea;if(_0x3030ea<_0x33d134)_0x33d134=_0x3030ea;}_0x5bbdd1[a0_0x1191('0x74')]=_0x25e9bb;_0x5bbdd1[a0_0x1191('0x2')]=_0x8bff44;_0x5bbdd1[a0_0x1191('0x21')]=_0x33d134;};const _0x4d1d2d=async(_0x1e2c22,_0x49a172)=>{let _0x1c0e3b=![];if(_0x1e2c22[a0_0x1191('0x21')]<_0x49a172){const _0x4bde3e=_0x1e2c22[a0_0x1191('0x74')][a0_0x1191('0xff')](_0x26229a=>_0x26229a===_0x1e2c22['minDistance']);const _0x2a7b6f=await this[a0_0x1191('0x4b')](_0x1e2c22[a0_0x1191('0x4a')][_0x4bde3e],_0x1e2c22[a0_0x1191('0x4a')][_0x4bde3e+0x1],![],_0x1e2c22);if(_0x2a7b6f!=null){_0x1e2c22[a0_0x1191('0x4a')][a0_0x1191('0xdd')](_0x4bde3e,0x2,_0x2a7b6f[a0_0x1191('0x2d')]);_0x1c0e3b=!![];}}return _0x1c0e3b;};const _0x5b8d79=async(_0x178a88,_0x55f58a)=>{if(WordSegmentationNode[a0_0x1191('0x24')](_0x55f58a)<=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x5e'))){return;}for(const _0xa4f008 of _0x178a88){_0xa4f008['path'][a0_0x1191('0x37')](_0x5e1a97=>{if(_0x5e1a97['tag']===a0_0x1191('0x3a')){_0x5e1a97[a0_0x1191('0x6')]=a0_0x1191('0x95');_0x5e1a97[a0_0x1191('0x70')]=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xca'));}});}};const _0x1b4b3c=async(_0x66df38,_0x115253)=>{if(WordSegmentationNode[a0_0x1191('0x24')](_0x115253)<=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x6b'))){return;}for(const _0x1a1698 of _0x66df38){if(!_0x1a1698[a0_0x1191('0x81')]&&_0x1a1698[a0_0x1191('0x21')]>WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x6b'))){_0x1a1698[a0_0x1191('0x4a')][a0_0x1191('0x37')](_0x30b5c4=>{if(_0x30b5c4['tag']===a0_0x1191('0x10a')&&_0x30b5c4[a0_0x1191('0x70')][a0_0x1191('0x3f')]===a0_0x1191('0x45')&&(typeof _0x30b5c4['payload'][a0_0x1191('0x10a')]!==a0_0x1191('0xc5')||!(a0_0x1191('0x127')in _0x30b5c4[a0_0x1191('0x70')][a0_0x1191('0x10a')]))&&!Array[a0_0x1191('0xec')](_0x30b5c4['payload'][a0_0x1191('0x10a')])){_0x30b5c4['tag']=a0_0x1191('0x95');_0x30b5c4[a0_0x1191('0x70')]=WordSegmentationNode[a0_0x1191('0x24')]('DIST');}if(_0x30b5c4[a0_0x1191('0x6')]===a0_0x1191('0x4d')||_0x30b5c4[a0_0x1191('0x6')]==='calc'){_0x30b5c4[a0_0x1191('0x6')]=a0_0x1191('0x95');_0x30b5c4['payload']=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xca'));}if(_0x30b5c4[a0_0x1191('0x6')]===a0_0x1191('0xed')&&_0x30b5c4['slot']&&_0x30b5c4[a0_0x1191('0xa')]['compare']&&_0x30b5c4[a0_0x1191('0xa')][a0_0x1191('0x11a')]['operator']===a0_0x1191('0x93')){_0x30b5c4[a0_0x1191('0x6')]=a0_0x1191('0x95');_0x30b5c4[a0_0x1191('0x70')]=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xca'));}if(_0x30b5c4[a0_0x1191('0x41')]&&_0x30b5c4['schema']===_0x1a1698['schema']&&WordSegmentationNode[a0_0x1191('0xbb')](_0x30b5c4[a0_0x1191('0x70')])){_0x30b5c4[a0_0x1191('0x6')]=a0_0x1191('0x95');_0x30b5c4[a0_0x1191('0x70')]=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0xca'));}});_0x1a1698[a0_0x1191('0x81')]=!![];await _0x2f4561(_0x1a1698);}}};const _0x6d256c=async(_0x292dcb,_0x599e2d)=>{if(WordSegmentationNode[a0_0x1191('0x24')](_0x599e2d)<=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x39'))){return;}for(const _0x2762e2 of _0x292dcb){if(!_0x2762e2[a0_0x1191('0x7a')]&&_0x2762e2['minDistance']>WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x39'))){try{const _0x13dcf5=await this[a0_0x1191('0x9')](_0x2762e2[a0_0x1191('0x4a')],this[a0_0x1191('0xf3')]);_0x2762e2['schema']=_0x13dcf5;_0x2762e2[a0_0x1191('0x4a')][a0_0x1191('0x37')](_0x3ddeee=>{if(_0x3ddeee[a0_0x1191('0x6')]===a0_0x1191('0x10a')&&_0x3ddeee[a0_0x1191('0x70')][a0_0x1191('0x3f')]==='date'){if(this[a0_0x1191('0xf3')][_0x13dcf5][a0_0x1191('0x3f')]===a0_0x1191('0xcf')){const _0x2d251f=this[a0_0x1191('0xf3')][_0x13dcf5][a0_0x1191('0x10d')][a0_0x1191('0x96')](_0x5981fa=>_0x5981fa[a0_0x1191('0x3f')]==='timestamp');_0x3ddeee[a0_0x1191('0x6')]=a0_0x1191('0xed');_0x3ddeee['schema']=_0x13dcf5;_0x3ddeee['payload']={'query':{[_0x2d251f[a0_0x1191('0x3d')]]:_0x3ddeee[a0_0x1191('0x70')]['val']}};}else{_0x3ddeee['tag']=a0_0x1191('0x95');_0x3ddeee[a0_0x1191('0x70')]=WordSegmentationNode[a0_0x1191('0x24')]('DIST');}}if(_0x3ddeee['schema']!==_0x13dcf5&&this['schemas'][_0x13dcf5][a0_0x1191('0x3f')]===a0_0x1191('0xcf')){const _0xc5b77=this[a0_0x1191('0xf3')][_0x13dcf5][a0_0x1191('0x10d')]['filter'](_0x34f505=>_0x34f505[a0_0x1191('0x22')]===_0x3ddeee[a0_0x1191('0x7a')]);if(_0xc5b77[a0_0x1191('0x4e')]===0x1){const _0x4f5ea6=_0xc5b77[0x0];if(_0x3ddeee['tag']==='pred'){if(_0x3ddeee['payload'][a0_0x1191('0xef')]['calc']){let _0x3a2232=_0x3ddeee['payload'][a0_0x1191('0xef')][a0_0x1191('0x75')];if(_0x3a2232[a0_0x1191('0xef')]){while(_0x3a2232[a0_0x1191('0xef')][a0_0x1191('0x75')]!=null){_0x3a2232=_0x3a2232[a0_0x1191('0xef')][a0_0x1191('0x75')];}if(_0x2762e2['calc'][_0x13dcf5]===undefined)_0x2762e2[a0_0x1191('0x75')][_0x13dcf5]={};_0x2762e2[a0_0x1191('0x75')][_0x13dcf5][_0x3ddeee['payload']['pred'][a0_0x1191('0x3d')]]=_0x2762e2[a0_0x1191('0x75')][_0x3ddeee[a0_0x1191('0x7a')]][_0x3ddeee[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x3d')]];delete _0x2762e2[a0_0x1191('0x75')][_0x3ddeee[a0_0x1191('0x7a')]];_0x3ddeee[a0_0x1191('0x7a')]=_0x13dcf5;_0x3a2232[a0_0x1191('0xef')]=_0x4f5ea6[a0_0x1191('0x3d')]+'_'+_0x3a2232[a0_0x1191('0xef')][a0_0x1191('0x3d')];}}if(_0x3ddeee[a0_0x1191('0x6')]===a0_0x1191('0xef')&&_0x3ddeee['payload'][a0_0x1191('0xef')][a0_0x1191('0xf4')]){_0x3ddeee[a0_0x1191('0x6')]=a0_0x1191('0x84');const _0x309b31={'_id':_0x3ddeee[a0_0x1191('0x70')][a0_0x1191('0xef')]['name']};if(_0x3ddeee['payload'][a0_0x1191('0xed')])_0x309b31[a0_0x1191('0xed')]=_0x3ddeee['payload'][a0_0x1191('0xed')];_0x3ddeee[a0_0x1191('0x70')]=_0x309b31;}}if(_0x3ddeee[a0_0x1191('0x6')]==='entity'){_0x3ddeee[a0_0x1191('0x6')]='filter';_0x3ddeee[a0_0x1191('0x7a')]=_0x13dcf5;_0x3ddeee['payload']={'query':{[_0x4f5ea6[a0_0x1191('0x3d')]]:_0x3ddeee[a0_0x1191('0x70')]}};}else if(_0x3ddeee['tag']===a0_0x1191('0xed')){_0x3ddeee[a0_0x1191('0x7a')]=_0x13dcf5;const _0x31da2a=_0x3ddeee['toEventFilterNode'](_0x13dcf5,_0x4f5ea6);if(_0x3ddeee[a0_0x1191('0x41')]){_0x3ddeee[a0_0x1191('0x6')]='group';_0x3ddeee['payload']={'filter':_0x31da2a[a0_0x1191('0x70')],'_id':_0x4f5ea6['name']};delete _0x3ddeee[a0_0x1191('0x41')];}else{_0x3ddeee[a0_0x1191('0x70')]=_0x31da2a[a0_0x1191('0x70')];}}else if(_0x3ddeee['tag']===a0_0x1191('0x84')){_0x3ddeee[a0_0x1191('0x7a')]=_0x13dcf5;const _0x223b9e={};if(_0x3ddeee['payload']['filter']){const _0xb104d1=new WordSegmentationNode();_0xb104d1[a0_0x1191('0x6')]='filter';_0xb104d1['schema']=_0x3ddeee[a0_0x1191('0x7a')];_0xb104d1[a0_0x1191('0x70')]=_0x3ddeee[a0_0x1191('0x70')][a0_0x1191('0xed')];const _0x4fffd1=_0xb104d1[a0_0x1191('0x1c')](_0x13dcf5,_0x4f5ea6);_0x223b9e[a0_0x1191('0xed')]=_0x4fffd1[a0_0x1191('0xed')];}if(_0x3ddeee['payload'][a0_0x1191('0xfc')]){_0x223b9e[a0_0x1191('0xfc')]=_0x4f5ea6[a0_0x1191('0x3d')]+'_'+_0x3ddeee['payload'][a0_0x1191('0xfc')];}if(_0x3ddeee[a0_0x1191('0x70')][a0_0x1191('0x83')]){throw new Error(a0_0x1191('0x19'));}_0x3ddeee[a0_0x1191('0x70')]=_0x223b9e;}}}if(_0x3ddeee[a0_0x1191('0x7a')]===_0x13dcf5&&this['schemas'][_0x13dcf5]['type']===a0_0x1191('0xcf')){if(_0x3ddeee[a0_0x1191('0x6')]==='pred'&&_0x3ddeee[a0_0x1191('0x70')]['pred'][a0_0x1191('0xf4')]){_0x3ddeee['tag']=a0_0x1191('0x84');const _0xd3e7d3={'_id':_0x3ddeee[a0_0x1191('0x70')][a0_0x1191('0xef')]['name']};if(_0x3ddeee[a0_0x1191('0x70')]['filter'])_0xd3e7d3['filter']=_0x3ddeee[a0_0x1191('0x70')][a0_0x1191('0xed')];_0x3ddeee[a0_0x1191('0x70')]=_0xd3e7d3;}}});await _0x2f4561(_0x2762e2);}catch(_0x28e977){}}}return _0x292dcb['filter'](_0xf5c817=>!_0xf5c817[a0_0x1191('0xd1')]);};let _0x5aa8e4=_0x5dd419[a0_0x1191('0x55')]((_0x3bd78a,_0x278bcc)=>({'path':_0x3bd78a[a0_0x1191('0x55')](_0x143520=>{const _0x367da9=this['getNode'](_0x143520);delete _0x367da9[a0_0x1191('0xfc')];return _0x367da9[a0_0x1191('0x110')]();}),'distances':null,'totalDistance':Number[a0_0x1191('0xf6')],'minDistance':Number[a0_0x1191('0xf6')],'index':_0x278bcc,'calc':{}}));_0x5aa8e4[a0_0x1191('0x37')](_0x530a2a=>_0x530a2a['originalPath']=[..._0x530a2a[a0_0x1191('0x4a')]]);const _0x33dffe=[a0_0x1191('0x39'),a0_0x1191('0x5e'),'CLEANUP',a0_0x1191('0x50')];let _0x3de642=0x0;while(!![]){const _0x7669a3=a0_0x90b76d[a0_0x1191('0x23')](_0x5aa8e4[a0_0x1191('0x55')](_0x597376=>_0x597376[a0_0x1191('0x4a')][a0_0x1191('0x4e')]));if(_0x5aa8e4[a0_0x1191('0x4e')]>0x1){_0x5aa8e4=_0x5aa8e4[a0_0x1191('0xed')](_0x2257a2=>_0x2257a2[a0_0x1191('0x4a')][a0_0x1191('0x4e')]===_0x7669a3);}if(_0x5aa8e4['length']===0x0)throw new Error(a0_0x1191('0x7f'));if(_0x7669a3===0x1){_0x5aa8e4=_0x5aa8e4['filter'](_0x31a446=>!_0x31a446[a0_0x1191('0x4a')][0x0][a0_0x1191('0xa')]);if(_0x5aa8e4['length']===0x0)throw new Error(a0_0x1191('0x7f'));if(_0x5aa8e4['length']>0x1){const _0x5e3f35=a0_0x90b76d[a0_0x1191('0xe1')](_0x5aa8e4,_0xf28fab=>a0_0x534141(_0xf28fab[a0_0x1191('0x4a')][0x0]));if(_0x5e3f35[a0_0x1191('0x4e')]===0x1)return{'node':_0x5e3f35[0x0][a0_0x1191('0x4a')][0x0],'calc':_0x5e3f35[0x0][a0_0x1191('0x75')]};_0x5e3f35[a0_0x1191('0x37')](_0x404fd1=>_0x404fd1[a0_0x1191('0x4a')][0x0][a0_0x1191('0x114')](_0x404fd1));const _0x18b776=a0_0x90b76d[a0_0x1191('0x9f')](_0x5e3f35[a0_0x1191('0x55')](_0x35f92f=>_0x35f92f[a0_0x1191('0x4a')][0x0][a0_0x1191('0x114')]));const _0x16829d=_0x5e3f35[a0_0x1191('0xed')](_0x4b1ffc=>_0x4b1ffc[a0_0x1191('0x4a')][0x0][a0_0x1191('0x114')]===_0x18b776);if(_0x16829d[a0_0x1191('0x4e')]>0x1){throw new Error(a0_0x1191('0x15'));}return{'node':_0x16829d[0x0][a0_0x1191('0x4a')][0x0],'calc':_0x16829d[0x0][a0_0x1191('0x75')]};}else{const _0x2df354=_0x5aa8e4[0x0];return{'node':_0x2df354[a0_0x1191('0x4a')][0x0],'calc':_0x2df354[a0_0x1191('0x75')]};}}await Promise['all'](_0x5aa8e4['map'](_0x179aba=>_0x2f4561(_0x179aba)));await _0x1b4b3c(_0x5aa8e4,_0x33dffe[_0x3de642]);await _0x5b8d79(_0x5aa8e4,_0x33dffe[_0x3de642]);const _0x4db786=await _0x6d256c(_0x5aa8e4,_0x33dffe[_0x3de642]);if(_0x4db786){_0x5aa8e4=_0x4db786;}let _0x4144a3=![];for(const _0x4d344b of _0x5aa8e4){const _0x1d472f=await _0x4d1d2d(_0x4d344b,WordSegmentationNode[a0_0x1191('0x24')](_0x33dffe[_0x3de642]));if(_0x1d472f)_0x4144a3=_0x1d472f;}if(!_0x4144a3){_0x3de642++;if(_0x3de642>=_0x33dffe[a0_0x1191('0x4e')]){throw new Error(a0_0x1191('0x119'));}}}}async[a0_0x1191('0xc')](_0x4bbb63,_0x5dfb80){const _0x474b32=await this['combineTwoNodes'](_0x4bbb63,_0x5dfb80,!![]);if(_0x474b32){const _0x435570=_0x474b32[a0_0x1191('0xba')]!=null?_0x474b32[a0_0x1191('0xba')]:0x0;return _0x435570;}return WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x50'));}async[a0_0x1191('0x4b')](_0x5a6cdd,_0x2b525b,_0x4e1971,_0x545cd9){if(_0x5a6cdd[a0_0x1191('0x6')]===_0x2b525b[a0_0x1191('0x6')]&&_0x5a6cdd[a0_0x1191('0x6')]==='dist'){const _0x184923=new WordSegmentationNode();_0x184923[a0_0x1191('0x6')]='dist';let _0x38412d=a0_0x90b76d[a0_0x1191('0x9f')]([_0x5a6cdd[a0_0x1191('0x70')],_0x2b525b[a0_0x1191('0x70')]])+0x1;if(_0x38412d>=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x39'))){_0x38412d=WordSegmentationNode[a0_0x1191('0x24')](a0_0x1191('0x39'))-0x1;}_0x184923[a0_0x1191('0x70')]=_0x38412d;return{'node':_0x184923,'distance':0x0};}if(JSON[a0_0x1191('0xcc')](_0x5a6cdd)===JSON['stringify'](_0x2b525b))return{'node':_0x5a6cdd,'distance':-0x1};const _0x31ab90={'dist-*':(_0x36322e,_0x4bbd5b)=>{const _0x6723f=_0x4bbd5b['deepclone']();return{'node':_0x6723f,'distance':_0x36322e[a0_0x1191('0x70')]};},'between-val':betweenVal,'calc-pred':calcPred,'calc-group':calcGroup,'count-pred':countPred,'count-filter':countFilter,'entity-filter':entityFilter,'filter-pred':filterPred,'filter-val':filterVal,'filter-filter':filterFilter,'filter-maxmin':filterMaxmin,'filter-truthornot':filterTruthOrNot,'group-pred':groupPred,'group-group':groupGroup,'maxmin-val':maxminVal,'maxmin-pred':maxminPred};const _0x55aeb8={'entity-pred':entityPredO,'entity-filter':entityFilterO,'filter-group':filterGroupO,'filter-percentage':filterPercentageO,'pred-entity':predEntityO,'pred-pred':predPredO,'pred-percentage':predPercentageO,'pred-distribution':predDistributionO,'val-quantifier':valQuantifierO,'howmuch-quantifier':howmuchQuantifierO};const _0x46fe93=[_0x5a6cdd,_0x2b525b]['map'](_0x45a05d=>_0x45a05d[a0_0x1191('0x6')])[a0_0x1191('0xeb')]('-');if(_0x46fe93 in _0x55aeb8){return _0x55aeb8[_0x46fe93](_0x5a6cdd,_0x2b525b,!![],this[a0_0x1191('0xf3')],_0x4e1971,_0x545cd9);}const _0x5934d9=a0_0x90b76d[a0_0x1191('0xa1')]([_0x5a6cdd,_0x2b525b],a0_0x1191('0x6'));const _0x428a18=[_0x5a6cdd,_0x2b525b][a0_0x1191('0x55')](_0x601284=>_0x601284[a0_0x1191('0x6')])[a0_0x1191('0x17')]();const _0x5277cb=_0x428a18[a0_0x1191('0xeb')]('-');if(_0x5277cb in _0x31ab90){return _0x31ab90[_0x5277cb](..._0x5934d9,_0x5934d9[0x0]===_0x5a6cdd,this[a0_0x1191('0xf3')],_0x4e1971,_0x545cd9);}if(_0x428a18[0x0]+'-*'in _0x31ab90){return _0x31ab90[_0x428a18[0x0]+'-*'](_0x5934d9[0x0],_0x5934d9[0x1],!![],this[a0_0x1191('0xf3')],_0x4e1971,_0x545cd9);}if(_0x428a18[0x1]+'-*'in _0x31ab90){return _0x31ab90[_0x428a18[0x1]+'-*'](_0x5934d9[0x1],_0x5934d9[0x0],![],this['schemas'],_0x4e1971,_0x545cd9);}return null;}async['determineMainSchema'](_0xa6e671,_0x3a3329){const _0x4deb67={};for(const _0x582ec3 of _0xa6e671){if(_0x582ec3['schema']){_0x4deb67[_0x582ec3[a0_0x1191('0x7a')]]=_0x3a3329[_0x582ec3[a0_0x1191('0x7a')]];}else if(_0x582ec3['tag']===a0_0x1191('0x10a')&&typeof _0x582ec3[a0_0x1191('0x70')]['val']===a0_0x1191('0xc5')&&_0x582ec3['payload'][a0_0x1191('0x10a')][a0_0x1191('0x7a')]){_0x4deb67[_0x582ec3[a0_0x1191('0x70')][a0_0x1191('0x10a')][a0_0x1191('0x7a')]]=_0x3a3329[_0x582ec3[a0_0x1191('0x70')][a0_0x1191('0x10a')][a0_0x1191('0x7a')]];}}const _0x553b2b=Object[a0_0x1191('0xb')](_0x4deb67);if(_0x553b2b[a0_0x1191('0x4e')]===0x0){throw new Error(a0_0x1191('0x47'));}if(_0x553b2b[a0_0x1191('0x4e')]===0x1){const _0x32f11d=_0x553b2b[0x0];return _0x32f11d[a0_0x1191('0xfc')];}const _0x26edde=_0x553b2b['filter'](_0x3f451e=>_0x3f451e['type']==='event');if(_0x26edde[a0_0x1191('0x4e')]===0x0){const _0x1219a5=_0x553b2b['filter'](_0x43ae3f=>_0x43ae3f[a0_0x1191('0x3f')]==='entity');if(_0x1219a5[a0_0x1191('0x4e')]===0x1){return _0x1219a5[0x0]['_id'];}throw new Error(a0_0x1191('0x8d'));}if(_0x26edde[a0_0x1191('0x4e')]>0x1){throw new Error(a0_0x1191('0xfb'));}return _0x26edde[0x0][a0_0x1191('0xfc')];}}const {Schema:Schema$3,SemanticType:SemanticType$1}=a0_0x159922;async function question2graph(_0x49ccb9,_0x27e31a){const _0x731c97=clean(_0x49ccb9);if(_0x731c97[a0_0x1191('0x4e')]===0x0)throw new Error(a0_0x1191('0xce'));const _0x20db4e=_0x731c97[a0_0x1191('0xe7')]('');const _0x1807a7=new WordSegmentationGraph();await _0x1807a7[a0_0x1191('0x43')]('START',{'t':a0_0x1191('0x95'),'_id':'START'});await _0x1807a7[a0_0x1191('0x43')](a0_0x1191('0x2c'),{'t':'dist','_id':a0_0x1191('0x2c')});if(_0x27e31a){const _0x284b0c=new WordSegmentationNode();_0x284b0c['_id']=a0_0x1191('0x115');_0x284b0c[a0_0x1191('0x6')]=_0x27e31a[a0_0x1191('0x6')];_0x284b0c[a0_0x1191('0x70')]=_0x27e31a[a0_0x1191('0x70')];_0x284b0c[a0_0x1191('0x7a')]=_0x27e31a[a0_0x1191('0x7a')];if(_0x27e31a[a0_0x1191('0x41')])_0x284b0c['is_schema']=_0x27e31a[a0_0x1191('0x41')];_0x1807a7[a0_0x1191('0xc0')]['START']=_0x284b0c;if(_0x1807a7[a0_0x1191('0xf3')][_0x284b0c[a0_0x1191('0x7a')]]===undefined){_0x1807a7[a0_0x1191('0xf3')][_0x284b0c[a0_0x1191('0x7a')]]=await Schema$3[a0_0x1191('0xe2')](_0x284b0c['schema']);}}const _0x734296={'t':a0_0x1191('0x95'),'_id':a0_0x1191('0x95')};const _0x2f9343={};const _0x388572=async _0x216415=>{let _0x35a3dc=0x0;if(_0x216415!=='START'){const _0x15fd27=_0x216415['split']('-');_0x35a3dc=parseInt(_0x15fd27[0x0])+parseInt(_0x15fd27[0x1]);}if(_0x35a3dc>=_0x20db4e['length']){_0x1807a7[a0_0x1191('0xf8')](_0x216415,'END');return;}if(_0x2f9343[a0_0x1191('0xdb')](_0x35a3dc)){const _0x1abcb3=_0x2f9343[_0x35a3dc];for(const _0x1f2368 of _0x1abcb3){const _0x294a04=_0x35a3dc+'-'+_0x1f2368['n'][a0_0x1191('0x4e')]+'-'+_0x1f2368[a0_0x1191('0xfc')];_0x1807a7[a0_0x1191('0xf8')](_0x216415,_0x294a04);}}else{const _0x35e752=await _0x4e1da4(_0x35a3dc);if(_0x35e752[a0_0x1191('0x4e')]===0x0){const _0xd0cc85={..._0x734296,'n':_0x20db4e[_0x35a3dc]};_0x2f9343[_0x35a3dc]=[_0xd0cc85];const _0x25e982=_0x35a3dc+'-'+_0xd0cc85['n'][a0_0x1191('0x4e')]+'-'+_0xd0cc85[a0_0x1191('0xfc')];await _0x1807a7[a0_0x1191('0x43')](_0x25e982,_0xd0cc85);_0x1807a7[a0_0x1191('0xf8')](_0x216415,_0x25e982);await _0x388572(_0x25e982);}else{_0x2f9343[_0x35a3dc]=_0x35e752;for(const _0x582bc6 of _0x35e752){const _0x5ba597=_0x35a3dc+'-'+_0x582bc6['n'][a0_0x1191('0x4e')]+'-'+_0x582bc6[a0_0x1191('0xfc')];await _0x1807a7['addNode'](_0x5ba597,_0x582bc6);_0x1807a7[a0_0x1191('0xf8')](_0x216415,_0x5ba597);await _0x388572(_0x5ba597);}}}};const _0x4e1da4=async _0x5dacfd=>{const _0x5d62b7=[];const _0xac739f=_0x20db4e[_0x5dacfd];const _0x339723=await DBConnector[a0_0x1191('0xea')]({'n':{'$regex':new RegExp('^'+RegExp[a0_0x1191('0xb2')](_0xac739f))}});for(const _0x2870d9 of _0x339723){const _0x32da73=await _0xac6183(_0x2870d9,_0x5dacfd);if(_0x32da73){if(_0x2870d9['t']===a0_0x1191('0x9c')){const _0x55db0c=await DBConnector[a0_0x1191('0xea')]({'n':_0x2870d9[a0_0x1191('0x88')]});for(const _0x236fd3 of _0x55db0c){_0x5d62b7['push'](_0x236fd3);}}else{_0x5d62b7['push'](_0x32da73);}}}const _0x2d9fc7=SemanticType$1[a0_0x1191('0x113')]();for(const _0x97168a of _0x2d9fc7){for(const _0x4c054c of _0x97168a[a0_0x1191('0x1d')]){const _0x5acb54=_0x3939bc(_0x5dacfd,_0x4c054c);if(_0x5acb54){_0x5d62b7['push'](_0x5acb54);}}}return _0x5d62b7;};const _0xac6183=async(_0x5a82a0,_0x3a0bda)=>{if(_0x731c97[a0_0x1191('0x6d')](_0x3a0bda)[a0_0x1191('0xc6')](_0x5a82a0['n'])){return _0x5a82a0;}return null;};const _0x3939bc=(_0x2fff57,_0x5cf024)=>{const _0x2527a8=incrRegEx(_0x5cf024['regex']);let _0x36dbf2=-0x1;const _0x334cdd=''+(new Date()['getTime']()+Math[a0_0x1191('0x78')]());for(let _0x40c166=_0x2fff57;_0x40c166<_0x20db4e[a0_0x1191('0x4e')];_0x40c166++){const _0x571185=_0x20db4e[_0x40c166];const _0x9a01d2=_0x2527a8[a0_0x1191('0x51')](_0x571185);if(!_0x9a01d2)break;const _0x3d44ff=_0x2527a8['state']();if(_0x3d44ff===DONE){const _0x478e8d=_0x731c97[a0_0x1191('0x6d')](_0x2fff57,_0x40c166+0x1);const _0x4bcd17=_0x5cf024['action'](_0x478e8d);if(_0x4bcd17==null)return null;return{'n':_0x478e8d,..._0x4bcd17,'_id':_0x334cdd};}if(_0x3d44ff===MAYBE){_0x36dbf2=_0x40c166;}}if(_0x36dbf2!==-0x1){const _0xd9a865=_0x731c97[a0_0x1191('0x6d')](_0x2fff57,_0x36dbf2+0x1);const _0x1b0846=_0x5cf024['action'](_0xd9a865);if(_0x1b0846==null)return null;return{'n':_0xd9a865,..._0x1b0846,'_id':_0x334cdd};}return null;};await _0x388572(a0_0x1191('0x115'));return _0x1807a7;}const clean=_0x30e76f=>{return _0x30e76f[a0_0x1191('0xab')](/\s/g,'')[a0_0x1191('0x34')]();};RegExp[a0_0x1191('0xb2')]=function(_0x1c60cd){return _0x1c60cd[a0_0x1191('0xab')](/[-\/\\^$*+?.()|[\]{}]/g,a0_0x1191('0x118'));};async function graph2LF(_0x413f04){const _0x3adccf=await _0x413f04[a0_0x1191('0xe3')]();const _0x2aa0ab=nodeToLogicform(_0x413f04[a0_0x1191('0xf3')],_0x3adccf);return _0x2aa0ab;}const nodeToLogicform=(_0xc75a3c,_0x2e611f)=>{const {calc,node}=_0x2e611f;if(node[a0_0x1191('0x6')]===a0_0x1191('0x95')||node['slot'])throw new Error(a0_0x1191('0x111'));const _0x5288cf={};switch(node[a0_0x1191('0x6')]){case a0_0x1191('0xed'):let _0x412d83=![];if(_0xc75a3c[node[a0_0x1191('0x7a')]]['type']===a0_0x1191('0xcf')&&node[a0_0x1191('0x70')][a0_0x1191('0x17')]){const _0x1daa05=Object[a0_0x1191('0x53')](node[a0_0x1191('0x70')][a0_0x1191('0x17')]);if(_0x1daa05['length']===0x1){const _0xb94730=_0x1daa05[0x0];if(calc[node[a0_0x1191('0x7a')]]&&calc[node['schema']][_0xb94730]&&calc[node[a0_0x1191('0x7a')]][_0xb94730]['calc']&&calc[node[a0_0x1191('0x7a')]][_0xb94730][a0_0x1191('0x75')][a0_0x1191('0x127')]){const _0x5837cc=calc[node['schema']][_0xb94730][a0_0x1191('0x75')];if(isTimeWindow(_0x5837cc[a0_0x1191('0x127')])){_0x412d83=!![];node[a0_0x1191('0x6')]=a0_0x1191('0x84');_0x5288cf['payload']={'_id':_0x5837cc[a0_0x1191('0x127')],'preds':[{'operator':'$sum','pred':_0x5837cc[a0_0x1191('0xef')]}]};_0x5288cf[a0_0x1191('0x70')][a0_0x1191('0xed')]=node[a0_0x1191('0x70')];_0x5288cf[a0_0x1191('0x70')][a0_0x1191('0xed')][a0_0x1191('0x17')]={[_0x5837cc[a0_0x1191('0xef')][a0_0x1191('0x3d')]]:node[a0_0x1191('0x70')][a0_0x1191('0x17')][_0xb94730]};delete _0x5288cf[a0_0x1191('0x70')][a0_0x1191('0xed')][a0_0x1191('0x75')];delete calc[node[a0_0x1191('0x7a')]][_0xb94730];}}}}if(!_0x412d83){_0x5288cf[a0_0x1191('0x70')]=node['payload'];}break;case a0_0x1191('0x10a'):_0x5288cf[a0_0x1191('0x70')]=node['payload'][a0_0x1191('0x10a')];break;case a0_0x1191('0xef'):if(node[a0_0x1191('0x70')]['pred'][a0_0x1191('0x75')]){if(isTimeWindow(node['payload'][a0_0x1191('0xef')][a0_0x1191('0x75')][a0_0x1191('0x127')])){node[a0_0x1191('0x6')]='group';_0x5288cf['payload']={'_id':node[a0_0x1191('0x70')][a0_0x1191('0xef')]['calc'][a0_0x1191('0x127')]};if(node[a0_0x1191('0x70')]['pred'][a0_0x1191('0x75')][a0_0x1191('0xef')]['calc']){_0x5288cf[a0_0x1191('0x70')][a0_0x1191('0x83')]=[{'pred':node['payload'][a0_0x1191('0xef')][a0_0x1191('0x75')][a0_0x1191('0xef')]}];}else{_0x5288cf['payload'][a0_0x1191('0x83')]=[{'operator':a0_0x1191('0xc7'),'pred':node[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x75')]['pred'],'name':node[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x3d')]}];}if(node[a0_0x1191('0x70')][a0_0x1191('0xed')])_0x5288cf[a0_0x1191('0x70')][a0_0x1191('0xed')]=node[a0_0x1191('0x70')][a0_0x1191('0xed')];if(node[a0_0x1191('0x70')][a0_0x1191('0xed')]&&node[a0_0x1191('0x70')][a0_0x1191('0xef')]['calc'][a0_0x1191('0xed')])throw new Error(a0_0x1191('0x4c'));if(node[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x75')]['filter'])_0x5288cf['payload'][a0_0x1191('0xed')]=node['payload'][a0_0x1191('0xef')][a0_0x1191('0x75')]['filter'];delete calc[node[a0_0x1191('0x7a')]][node[a0_0x1191('0x70')]['pred'][a0_0x1191('0x3d')]];}else{_0x5288cf[a0_0x1191('0x70')]=node['payload'];}}else{if((node[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x98')]===a0_0x1191('0x52')||node[a0_0x1191('0x70')]['pred'][a0_0x1191('0x98')]===a0_0x1191('0x128'))&&node[a0_0x1191('0x70')][a0_0x1191('0xed')]===undefined){if(node['payload'][a0_0x1191('0xef')]['is_categorical']){node[a0_0x1191('0x6')]=a0_0x1191('0x2e');_0x5288cf[a0_0x1191('0x70')]={'pred':node[a0_0x1191('0x70')][a0_0x1191('0xef')]};}else{node[a0_0x1191('0x6')]=a0_0x1191('0xed');_0x5288cf[a0_0x1191('0x70')]={'query':{},'preds':[node['payload'][a0_0x1191('0xef')]]};}}else if(node[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x98')]==='number'){const _0x1f391c={'name':'总'+node[a0_0x1191('0x70')][a0_0x1191('0xef')]['name'],'calc':{'operator':a0_0x1191('0xc7'),'pred':node[a0_0x1191('0x70')][a0_0x1191('0xef')]}};if(node['payload']['filter'])_0x1f391c[a0_0x1191('0x75')][a0_0x1191('0xed')]=node[a0_0x1191('0x70')][a0_0x1191('0xed')];node[a0_0x1191('0x6')]=a0_0x1191('0x10a');_0x5288cf[a0_0x1191('0x70')]={'pred':_0x1f391c};if(calc[node['schema']]==null)calc[node['schema']]={};calc[node['schema']][_0x1f391c[a0_0x1191('0x3d')]]=_0x1f391c;}else if(node['payload'][a0_0x1191('0xef')][a0_0x1191('0x22')]){node[a0_0x1191('0x6')]=a0_0x1191('0xed');node['schema']=node[a0_0x1191('0x70')][a0_0x1191('0xef')][a0_0x1191('0x22')];_0x5288cf['payload']={'query':{}};if(node[a0_0x1191('0x70')][a0_0x1191('0xed')]){const _0x2c4774={};if(node['payload'][a0_0x1191('0xed')][a0_0x1191('0xae')]){_0x2c4774['query']={};for(const [_0x43c2c7,_0x1c1858]of Object[a0_0x1191('0x57')](node[a0_0x1191('0x70')]['filter']['query'])){const _0x3556e4=_0x43c2c7['split']('_');const _0x1eafd7=_0x3556e4[a0_0x1191('0x4e')]===0x1?_0x3556e4[0x0]:_0x3556e4[0x1];_0x2c4774[a0_0x1191('0xae')][''+_0x1eafd7]=_0x1c1858;}}if(node[a0_0x1191('0x70')]['filter'][a0_0x1191('0x17')]){_0x2c4774['sort']={};for(const [_0x1bb754,_0x4df2ee]of Object['entries'](node[a0_0x1191('0x70')]['filter'][a0_0x1191('0x17')])){const _0xf82ade=_0x1bb754[a0_0x1191('0xe7')]('_');const _0x29a936=_0xf82ade[a0_0x1191('0x4e')]===0x1?_0xf82ade[0x0]:_0xf82ade[0x1];_0x2c4774[a0_0x1191('0x17')][''+_0x29a936]=_0x4df2ee;}}if(node['payload'][a0_0x1191('0xed')][a0_0x1191('0xfd')])_0x2c4774[a0_0x1191('0xfd')]=node[a0_0x1191('0x70')][a0_0x1191('0xed')]['limit'];_0x5288cf['payload']=_0x2c4774;}}else if(node[a0_0x1191('0x70')][a0_0x1191('0xed')]){node[a0_0x1191('0x6')]=a0_0x1191('0xed');_0x5288cf['payload']={...node['payload'][a0_0x1191('0xed')],'preds':[node['payload'][a0_0x1191('0xef')]]};}else{throw new Error(a0_0x1191('0x89'));}}break;default:_0x5288cf[a0_0x1191('0x70')]=node[a0_0x1191('0x70')];break;}if(!a0_0x90b76d['isEmpty'](calc)){const _0x32df21={};for(const [_0x374685,_0x5e5d6c]of Object['entries'](calc)){if(!a0_0x90b76d[a0_0x1191('0x59')](_0x5e5d6c)){for(const [_0x5467dd,_0xc349c8]of Object[a0_0x1191('0x57')](_0x5e5d6c)){if(_0xc349c8[a0_0x1191('0x75')][a0_0x1191('0xef')]&&_0xc349c8[a0_0x1191('0x75')][a0_0x1191('0xef')]['name'])_0xc349c8[a0_0x1191('0x75')][a0_0x1191('0xef')]=_0xc349c8[a0_0x1191('0x75')]['pred']['name'];_0x32df21[_0x5467dd]={..._0xc349c8[a0_0x1191('0x75')],'schema':_0x374685};delete _0x32df21[_0x5467dd]['is_schema'];}}}if(!a0_0x90b76d[a0_0x1191('0x59')](_0x32df21))_0x5288cf[a0_0x1191('0x75')]=_0x32df21;}const _0x46d826=_0x5d1dea=>{if(_0x5d1dea==null){return _0x5d1dea;}if(Array['isArray'](_0x5d1dea)){return _0x5d1dea[a0_0x1191('0x55')](_0x54f219=>_0x46d826(_0x54f219));}if(typeof _0x5d1dea==='object'){if(_0x5d1dea instanceof Date){return _0x5d1dea;}else if(a0_0x1191('0x3d')in _0x5d1dea&&!(a0_0x1191('0x127')in _0x5d1dea)&&!(a0_0x1191('0x2f')in _0x5d1dea)){return _0x5d1dea[a0_0x1191('0x3d')];}else if(Object[a0_0x1191('0x53')](_0x5d1dea)['length']===0x1&&a0_0x1191('0xef')in _0x5d1dea&&typeof _0x5d1dea[a0_0x1191('0xef')]===a0_0x1191('0xc5')){const _0x474b6e=(_0xa5b10b,_0x2560f8)=>{const _0x1b5c4e={..._0xa5b10b,'name':_0x2560f8};if(a0_0x1191('0xed')in _0x1b5c4e){for(const [_0x36515e,_0x1bd9bf]of Object[a0_0x1191('0x57')](_0x1b5c4e['filter'])){_0x1b5c4e[_0x36515e]=_0x46d826(_0x1bd9bf);}delete _0x1b5c4e[a0_0x1191('0xed')];}if(_0x1b5c4e['pred']in _0x5288cf[a0_0x1191('0x75')]){_0x1b5c4e[a0_0x1191('0xef')]=_0x474b6e(_0x5288cf[a0_0x1191('0x75')][_0x1b5c4e['pred']],_0x1b5c4e[a0_0x1191('0xef')]);}return _0x1b5c4e;};if(_0x5d1dea[a0_0x1191('0xef')][a0_0x1191('0x75')]){return _0x474b6e(_0x5d1dea[a0_0x1191('0xef')]['calc'],_0x5d1dea[a0_0x1191('0xef')][a0_0x1191('0x3d')]);}return _0x5d1dea[a0_0x1191('0xef')]['name'];}else{const _0x19e849={};for(const [_0x442b61,_0x269860]of Object['entries'](_0x5d1dea)){if(_0x442b61===a0_0x1191('0x75'))continue;if(_0x442b61==='filter'){for(const [_0x2b467b,_0x3b5bcc]of Object[a0_0x1191('0x57')](_0x5d1dea['filter'])){_0x19e849[_0x2b467b]=_0x46d826(_0x3b5bcc);}}else{_0x19e849[_0x442b61]=_0x46d826(_0x269860);}}return _0x19e849;}}return _0x5d1dea;};_0x5288cf[a0_0x1191('0x70')]=_0x46d826(_0x5288cf[a0_0x1191('0x70')]);let _0x34bba2;if(node[a0_0x1191('0x6')]===a0_0x1191('0x2e')){_0x34bba2={'pred':_0x5288cf[a0_0x1191('0x70')],'name':'所有'+_0x5288cf['payload'],'operator':'$distinct'};}else{_0x34bba2={..._0x5288cf['payload']};}if(node['schema'])_0x34bba2[a0_0x1191('0x7a')]=node[a0_0x1191('0x7a')];if(_0x34bba2[a0_0x1191('0xfc')]){_0x34bba2['groupby']=_0x34bba2[a0_0x1191('0xfc')];delete _0x34bba2[a0_0x1191('0xfc')];}if(_0x34bba2[a0_0x1191('0xa7')]){let _0x2851ef=[];if(_0x34bba2[a0_0x1191('0x17')]&&Object[a0_0x1191('0x53')](_0x34bba2[a0_0x1191('0x17')])[a0_0x1191('0x4e')]>0x0){_0x2851ef=Object[a0_0x1191('0x53')](_0x34bba2[a0_0x1191('0x17')])['map'](_0x38ca31=>{const _0x12edea=_0xc75a3c[_0x34bba2[a0_0x1191('0x7a')]][a0_0x1191('0x10d')][a0_0x1191('0x96')](_0x4c147e=>_0x4c147e[a0_0x1191('0x3d')]===_0x38ca31);if(_0x12edea){if(_0x12edea[a0_0x1191('0x98')]===a0_0x1191('0x45')){const _0x2b412c='总'+_0x38ca31;_0x34bba2[a0_0x1191('0x17')][_0x2b412c]=_0x34bba2[a0_0x1191('0x17')][_0x38ca31];delete _0x34bba2[a0_0x1191('0x17')][_0x38ca31];return{'name':'总'+_0x38ca31,'operator':'$sum','pred':_0x38ca31};}else{const _0x2c5287=_0x38ca31+'数量';_0x34bba2['sort'][_0x2c5287]=_0x34bba2[a0_0x1191('0x17')][_0x38ca31];delete _0x34bba2[a0_0x1191('0x17')][_0x38ca31];return{'name':_0x38ca31+'数量','operator':a0_0x1191('0x6f')};}}else if(calc&&calc[_0x34bba2['schema']]&&_0x38ca31 in calc[_0x34bba2['schema']]){return{'name':_0x38ca31,...calc[_0x34bba2[a0_0x1191('0x7a')]][_0x38ca31][a0_0x1191('0x75')]};}else{throw new Error(a0_0x1191('0x12c')+_0x38ca31);}});}if(_0x34bba2[a0_0x1191('0xae')]&&Object[a0_0x1191('0x53')](_0x34bba2[a0_0x1191('0xae')])[a0_0x1191('0x4e')]>0x0){const _0x1ac4a4={};for(const [_0x15bdf4,_0x4768c1]of Object['entries'](_0x34bba2[a0_0x1191('0xae')])){if(calc&&calc[_0x34bba2[a0_0x1191('0x7a')]]&&_0x15bdf4 in calc[_0x34bba2[a0_0x1191('0x7a')]]){_0x2851ef[a0_0x1191('0x10f')]({'name':_0x15bdf4,...calc[_0x34bba2['schema']][_0x15bdf4][a0_0x1191('0x75')]});_0x1ac4a4[_0x15bdf4]=_0x4768c1;delete _0x34bba2[a0_0x1191('0xae')][_0x15bdf4];}}if(Object[a0_0x1191('0x53')](_0x1ac4a4)[a0_0x1191('0x4e')]>0x0){_0x34bba2['having']=_0x1ac4a4;}}if(_0x2851ef[a0_0x1191('0x4e')]>0x0){if(!_0x34bba2[a0_0x1191('0x83')])_0x34bba2[a0_0x1191('0x83')]=[];_0x34bba2[a0_0x1191('0x83')]=[..._0x34bba2[a0_0x1191('0x83')],..._0x2851ef];}}if(_0x34bba2['groupby']&&!(a0_0x1191('0x83')in _0x34bba2)){if(!_0x34bba2['schema'])throw new Error(a0_0x1191('0x111'));const _0x4f5b6b=_0xc75a3c[_0x34bba2[a0_0x1191('0x7a')]][a0_0x1191('0x10d')][a0_0x1191('0x96')](_0x492ed8=>_0x492ed8['name']===_0x34bba2[a0_0x1191('0xa7')]);if(_0x4f5b6b[a0_0x1191('0x3f')]===a0_0x1191('0xc5')){if(!(a0_0x1191('0xae')in _0x34bba2)||Object['keys'](_0x34bba2['query'])[a0_0x1191('0x4e')]===0x0){_0x34bba2={'schema':_0x4f5b6b[a0_0x1191('0x22')],'query':{}};}else{_0x34bba2[a0_0x1191('0x83')]=[_0x34bba2[a0_0x1191('0xa7')]];delete _0x34bba2[a0_0x1191('0xa7')];}}else{_0x34bba2['pred']=_0x34bba2[a0_0x1191('0xa7')];_0x34bba2[a0_0x1191('0x3d')]='所有'+_0x34bba2['groupby'];_0x34bba2[a0_0x1191('0x127')]=a0_0x1191('0xdf');delete _0x34bba2[a0_0x1191('0xa7')];}}delete _0x34bba2[a0_0x1191('0x75')];if(_0x34bba2[a0_0x1191('0xee')]){_0x34bba2[a0_0x1191('0xfd')]=_0x34bba2['total'];delete _0x34bba2[a0_0x1191('0xee')];}return _0x34bba2;};var NLQ={'ask':async(_0x31632b,_0x2895d9)=>{const _0x288ccf=await question2graph(_0x31632b,_0x2895d9);if(Object[a0_0x1191('0x53')](_0x288ccf[a0_0x1191('0xc0')])[a0_0x1191('0x4e')]===0x0)throw new Error(a0_0x1191('0xa3')+_0x31632b+',\x20不能理解此问题。');const _0x4e8266=await graph2LF(_0x288ccf);return _0x4e8266;},'logicOps':logicOps};const {Schema:Schema$4,Data,Synonym,Logicform}=a0_0x159922;const {CustomFunctionController}=Logicform;var index={'start':async(_0x2f28c9={})=>{if(!(a0_0x1191('0x54')in _0x2f28c9)){_0x2f28c9['alisaDB']={'type':a0_0x1191('0x9a'),'url':a0_0x1191('0x7')};}await DBConnector[a0_0x1191('0xa6')](_0x2f28c9);Schema$4[a0_0x1191('0x124')](a0_0x1191('0x8e'),schemaCreated);Data[a0_0x1191('0x124')](a0_0x1191('0xfe'),dataCreated);Synonym[a0_0x1191('0x124')]('synonyms_created',synonymCreated);CustomFunctionController[a0_0x1191('0x124')](a0_0x1191('0x16'),funcCreated);},'close':async()=>{Schema$4[a0_0x1191('0x44')]('schema_created',schemaCreated);Data[a0_0x1191('0x44')](a0_0x1191('0xfe'),dataCreated);Synonym[a0_0x1191('0x44')](a0_0x1191('0x3b'),synonymCreated);CustomFunctionController[a0_0x1191('0x44')](a0_0x1191('0x16'),funcCreated);await DBConnector[a0_0x1191('0x10c')]();},'dropDatabase':async()=>{await DBConnector[a0_0x1191('0xc3')]();},'initDatabase':async()=>{await DBConnector['initDatabase']();for(const _0x43963e of NLQ[a0_0x1191('0x60')]){for(const _0x112657 of _0x43963e['data']){const _0x4304f7={..._0x43963e};delete _0x4304f7[a0_0x1191('0x5a')];await addLearned({..._0x4304f7,'n':_0x112657,'t':a0_0x1191('0x9d'),'rank':0x1});}}},'countLearned':async _0x186e6b=>{return await DBConnector[a0_0x1191('0x99')](_0x186e6b);},'findLearned':async(_0x3ea09f,_0x2b831a)=>{return await DBConnector[a0_0x1191('0xea')](_0x3ea09f,_0x2b831a);},'ask':async _0x1b0587=>await NLQ['ask'](_0x1b0587)};export default index;